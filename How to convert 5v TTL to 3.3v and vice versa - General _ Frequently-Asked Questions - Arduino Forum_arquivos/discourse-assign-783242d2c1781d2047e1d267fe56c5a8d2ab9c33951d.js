define("discourse/plugins/discourse-assign/discourse/assigned-group-route-map",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default={resource:"group",map(){this.route("assigned",(function(){this.route("show",{path:"/:filter"})}))}}})),define("discourse/plugins/discourse-assign/discourse/assigned-messages-route-map",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default={resource:"user.userPrivateMessages",map(){this.route("assigned",(function(){this.route("index",{path:"/"})}))}}})),define("discourse/plugins/discourse-assign/discourse/assigns-activity-route-map",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default={resource:"user.userActivity",map(){this.route("assigned")}}})),define("discourse/plugins/discourse-assign/discourse/components/assign-actions-dropdown",["exports","@ember/object","I18n","select-kit/components/dropdown-select-box"],(function(e,s,t,i){"use strict"
var n
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var r,o,a,l,u,c
e.default=i.default.extend((r=n={classNames:["assign-actions-dropdown"],headerIcon:null,allowInitialValueMutation:!1,showFullTitle:!0,selectKitOptions:{icon:null,translatedNone:"...",showFullTitle:!0},computeContent(){let e=[]
return this.assignee&&(e=e.concat([{id:"unassign",icon:this.group?"group-times":"user-times",name:t.default.t("discourse_assign.unassign.title"),description:t.default.t("discourse_assign.unassign.help",{username:this.assignee})},{id:"reassign",icon:"users",name:t.default.t("discourse_assign.reassign.title"),description:t.default.t("discourse_assign.reassign.help")}])),this.topic.indirectly_assigned_to&&Object.entries(this.topic.indirectly_assigned_to).forEach((s=>{const[i,n]=s,r=n.assigned_to
e=e.concat({id:`unassign_post_${i}`,icon:r.username?"user-times":"group-times",name:t.default.t("discourse_assign.unassign_post.title"),description:t.default.t("discourse_assign.unassign_post.help",{username:r.username||r.name})})})),e},onChange(e){switch(e){case"unassign":this.unassign(this.topic.id)
break
case"reassign":this.reassign(this.topic,this.assignee)}const s=e.match(/unassign_post_(\d+)/)?.[1]
s&&this.unassign(s,"Post")}},o="onChange",a=[s.action],l=Object.getOwnPropertyDescriptor(n,"onChange"),u=n,c={},Object.keys(l).forEach((function(e){c[e]=l[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=a.slice().reverse().reduce((function(e,s){return s(r,o,e)||e}),c),u&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(u):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(r,o,c),c=null),n))})),define("discourse/plugins/discourse-assign/discourse/components/assign-user-form",["exports","@glimmer/component","@glimmer/tracking","@ember/object","discourse/plugins/discourse-assign/discourse/components/assignment","@ember/template-factory","@ember/component"],(function(e,s,t,i,n,r,o){"use strict"
var a,l,u
function c(e,s,t,i,n){var r={}
return Object.keys(i).forEach((function(e){r[e]=i[e]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=t.slice().reverse().reduce((function(t,i){return i(e,s,t)||t}),r),n&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(n):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,s,r),r=null),r}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(u=class extends s.default{constructor(){var e,s,t,i
super(...arguments),e=this,s="showValidationErrors",i=this,(t=l)&&Object.defineProperty(e,s,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0}),this.args.formApi.submit=this.assign}get assigneeIsEmpty(){return!this.args.model.username&&!this.args.model.group_name}async assign(){this.assigneeIsEmpty?this.showValidationErrors=!0:await this.args.onSubmit()}},(0,o.setComponentTemplate)((0,r.createTemplateFactory)({id:"DEZrvZWn",block:'[[[1,"\\n    "],[8,[32,0],null,[["@assignment","@onSubmit","@showValidationErrors"],[[30,1],[30,0,["assign"]],[30,0,["showValidationErrors"]]]],null],[1,"\\n  "]],["@model"],false,[]]',moduleName:"/var/www/discourse/app/assets/javascripts/discourse/discourse/plugins/discourse-assign/discourse/components/assign-user-form.js",scope:()=>[n.default],isStrictMode:!0}),u),l=c((a=u).prototype,"showValidationErrors",[t.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),c(a.prototype,"assign",[i.action],Object.getOwnPropertyDescriptor(a.prototype,"assign"),a.prototype),a)})),define("discourse/plugins/discourse-assign/discourse/components/assigned-to-post",["exports","@glimmer/component","@ember/object","@ember/service","discourse/components/d-button","discourse-common/helpers/d-icon","discourse-common/helpers/i18n","float-kit/components/d-menu","@ember/template-factory","@ember/component"],(function(e,s,t,i,n,r,o,a,l,u){"use strict"
var c,d,p
function g(e,s,t,i,n){var r={}
return Object.keys(i).forEach((function(e){r[e]=i[e]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=t.slice().reverse().reduce((function(t,i){return i(e,s,t)||t}),r),n&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(n):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,s,r),r=null),r}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(p=class extends s.default{constructor(){var e,s,t,i
super(...arguments),e=this,s="taskActions",i=this,(t=d)&&Object.defineProperty(e,s,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}unassign(){this.taskActions.unassignPost(this.args.post)}editAssignment(){this.taskActions.showAssignPostModal(this.args.post)}},(0,u.setComponentTemplate)((0,l.createTemplateFactory)({id:"W4nmfNON",block:'[[[1,"\\n"],[41,[30,1],[[[1,"      "],[1,[28,[32,0],["user-plus"],null]],[1,"\\n"]],[]],[[[1,"      "],[1,[28,[32,0],["group-plus"],null]],[1,"\\n"]],[]]],[1,"\\n    "],[10,1],[14,0,"assign-text"],[12],[1,"\\n      "],[1,[28,[32,1],["discourse_assign.assigned_to"],null]],[1,"\\n    "],[13],[1,"\\n\\n    "],[10,3],[15,6,[30,2]],[14,0,"assigned-to-username"],[12],[1,"\\n"],[41,[30,1],[[[1,"        "],[1,[30,1,["username"]]],[1,"\\n"]],[]],[[[1,"        "],[1,[30,3,["name"]]],[1,"\\n"]],[]]],[1,"    "],[13],[1,"\\n\\n    "],[8,[32,2],[[24,0,"btn-flat more-button"]],[["@icon"],["ellipsis-h"]],[["default"],[[[[1,"\\n      "],[10,0],[14,0,"popup-menu"],[12],[1,"\\n        "],[10,"ul"],[12],[1,"\\n          "],[10,"li"],[12],[1,"\\n            "],[8,[32,3],[[24,0,"popup-menu-btn"]],[["@action","@icon","@label"],[[30,0,["unassign"]],"user-plus","discourse_assign.unassign.title"]],null],[1,"\\n          "],[13],[1,"\\n          "],[10,"li"],[12],[1,"\\n            "],[8,[32,3],[[24,0,"popup-menu-btn"]],[["@action","@icon","@label"],[[30,0,["editAssignment"]],"group-plus","discourse_assign.reassign.title_w_ellipsis"]],null],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n    "]],[]]]]],[1,"\\n  "]],["@assignedToUser","@href","@assignedToGroup"],false,["if"]]',moduleName:"/var/www/discourse/app/assets/javascripts/discourse/discourse/plugins/discourse-assign/discourse/components/assigned-to-post.js",scope:()=>[r.default,o.default,a.default,n.default],isStrictMode:!0}),p),d=g((c=p).prototype,"taskActions",[i.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g(c.prototype,"unassign",[t.action],Object.getOwnPropertyDescriptor(c.prototype,"unassign"),c.prototype),g(c.prototype,"editAssignment",[t.action],Object.getOwnPropertyDescriptor(c.prototype,"editAssignment"),c.prototype),c)})),define("discourse/plugins/discourse-assign/discourse/components/assigned-to",["exports","@ember/component","@ember/component/template-only","@ember/template-factory"],(function(e,s,t,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const n=(0,i.createTemplateFactory)({id:"LFVSEcUV",block:'[[[10,0],[14,0,"assigned-to-user"],[12],[1,"\\n  "],[1,[28,[35,0],[[30,1]],[["imageSize"],["small"]]]],[1,"\\n\\n  "],[10,1],[14,0,"assigned-username"],[12],[1,"\\n    "],[1,[30,1,["username"]]],[1,"\\n  "],[13],[1,"\\n\\n  "],[18,2,null],[1,"\\n"],[13]],["@user","&default"],false,["avatar","yield"]]',moduleName:"discourse/plugins/discourse-assign/discourse/components/assigned-to.hbs",isStrictMode:!1})
e.default=(0,s.setComponentTemplate)(n,(0,t.default)())})),define("discourse/plugins/discourse-assign/discourse/components/assigned-topic-list-column",["exports","@glimmer/component","@ember/object","@ember/service","discourse/plugins/discourse-assign/discourse/components/assign-actions-dropdown","@ember/template-factory","@ember/component"],(function(e,s,t,i,n,r,o){"use strict"
var a,l,u,c
function d(e,s,t,i){t&&Object.defineProperty(e,s,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function p(e,s,t,i,n){var r={}
return Object.keys(i).forEach((function(e){r[e]=i[e]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=t.slice().reverse().reduce((function(t,i){return i(e,s,t)||t}),r),n&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(n):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,s,r),r=null),r}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(c=class extends s.default{constructor(){super(...arguments),d(this,"taskActions",l,this),d(this,"router",u,this)}async unassign(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Topic"
await this.taskActions.unassign(e,s),this.router.refresh()}reassign(e){this.taskActions.showAssignModal(e,{onSuccess:()=>this.router.refresh()})}},(0,o.setComponentTemplate)((0,r.createTemplateFactory)({id:"CgiPEHvE",block:'[[[1,"\\n"],[41,[30,1,["assigned_to_user"]],[[[1,"      "],[8,[32,0],null,[["@topic","@assignee","@unassign","@reassign"],[[30,1],[30,1,["assigned_to_user","username"]],[30,0,["unassign"]],[30,0,["reassign"]]]],null],[1,"\\n"]],[]],[[[41,[30,1,["assigned_to_group"]],[[[1,"      "],[8,[32,0],null,[["@topic","@assignee","@group","@unassign","@reassign"],[[30,1],[30,1,["assigned_to_group","name"]],true,[30,0,["unassign"]],[30,0,["reassign"]]]],null],[1,"\\n"]],[]],[[[1,"      "],[8,[32,0],null,[["@topic","@unassign"],[[30,1],[30,0,["unassign"]]]],null],[1,"\\n    "]],[]]]],[]]],[1,"  "]],["@topic"],false,["if"]]',moduleName:"/var/www/discourse/app/assets/javascripts/discourse/discourse/plugins/discourse-assign/discourse/components/assigned-topic-list-column.js",scope:()=>[n.default],isStrictMode:!0}),c),l=p((a=c).prototype,"taskActions",[i.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=p(a.prototype,"router",[i.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p(a.prototype,"unassign",[t.action],Object.getOwnPropertyDescriptor(a.prototype,"unassign"),a.prototype),p(a.prototype,"reassign",[t.action],Object.getOwnPropertyDescriptor(a.prototype,"reassign"),a.prototype),a)})),define("discourse/plugins/discourse-assign/discourse/components/assignee-chooser-row",["exports","@ember/component","select-kit/components/email-group-user-chooser-row","@ember/template-factory"],(function(e,s,t,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const n=(0,i.createTemplateFactory)({id:"WLrkIwQW",block:'[[[41,[30,0,["item","isUser"]],[[[1,"  "],[1,[28,[35,1],[[30,0,["item"]]],[["imageSize"],["tiny"]]]],[1,"\\n  "],[10,0],[14,0,"user-wrapper"],[12],[1,"\\n    "],[10,1],[14,0,"identifier"],[12],[1,[28,[35,2],[[30,0,["item","id"]]],null]],[13],[1,"\\n    "],[10,1],[14,0,"name"],[12],[1,[30,0,["item","name"]]],[13],[1,"\\n"],[41,[28,[37,3],[[30,0,["item","showUserStatus"]],[30,0,["item","status"]]],null],[[[1,"      "],[8,[39,4],null,[["@status","@showDescription"],[[30,0,["item","status"]],true]],null],[1,"\\n"]],[]],null],[1,"  "],[13],[1,"\\n  "],[1,[28,[35,5],[[30,0,["item","id"]]],null]],[1,"\\n"]],[]],[[[41,[30,0,["item","isGroup"]],[[[1,"  "],[1,[28,[35,6],["users"],null]],[1,"\\n  "],[10,0],[14,0,"user-wrapper"],[12],[1,"\\n    "],[10,1],[14,0,"identifier"],[12],[1,[30,0,["item","id"]]],[13],[1,"\\n    "],[10,1],[14,0,"name"],[12],[1,[30,0,["item","full_name"]]],[13],[1,"\\n  "],[13],[1,"\\n"]],[]],[[[1,"  "],[1,[28,[35,6],["envelope"],null]],[1,"\\n  "],[10,1],[14,0,"identifier"],[12],[1,[30,0,["item","id"]]],[13],[1,"\\n"]],[]]]],[]]]],[],false,["if","avatar","format-username","and","user-status-message","decorate-username-selector","d-icon"]]',moduleName:"discourse/plugins/discourse-assign/discourse/components/assignee-chooser-row.hbs",isStrictMode:!1})
class r extends t.default{}e.default=r,(0,s.setComponentTemplate)(n,r)})),define("discourse/plugins/discourse-assign/discourse/components/assignee-chooser",["exports","select-kit/components/email-group-user-chooser"],(function(e,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class t extends s.default{modifyComponentForRow(){return"assignee-chooser-row"}}e.default=t})),define("discourse/plugins/discourse-assign/discourse/components/assignment",["exports","@glimmer/component","@ember/helper","@ember/legacy-built-in-components","@ember/modifier","@ember/object","@ember/service","discourse-common/helpers/d-icon","discourse-common/helpers/i18n","select-kit/components/combo-box","truth-helpers/helpers/not","discourse/plugins/discourse-assign/discourse/components/assignee-chooser","@ember/template-factory","@ember/component"],(function(e,s,t,i,n,r,o,a,l,u,c,d,p,g){"use strict"
var m,f,b,h
function v(e,s,t,i){t&&Object.defineProperty(e,s,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function y(e,s,t,i,n){var r={}
return Object.keys(i).forEach((function(e){r[e]=i[e]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=t.slice().reverse().reduce((function(t,i){return i(e,s,t)||t}),r),n&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(n):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,s,r),r=null),r}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(h=class extends s.default{constructor(){super(...arguments),v(this,"siteSettings",f,this),v(this,"taskActions",b,this)}get assignee(){return this.args.assignment.username||this.args.assignment.group_name}get status(){return this.args.assignment.status||this.assignStatuses[0]}get assignStatuses(){return this.siteSettings.assign_statuses.split("|").filter(Boolean)}get assignStatusOptions(){return this.assignStatuses.map((e=>({id:e,name:e})))}get assigneeIsEmpty(){return!this.args.assignment.username&&!this.args.assignment.group_name}get showAssigneeIeEmptyError(){return this.assigneeIsEmpty&&this.args.showValidationErrors}handleTextAreaKeydown(e){(e.ctrlKey||e.metaKey)&&"Enter"===e.key&&this.args.onSubmit()}markAsEdited(){this.args.assignment.isEdited=!0}setAssignee(e){let[s]=e
this.taskActions.allowedGroupsForAssignment.includes(s)?(this.args.assignment.username=null,this.args.assignment.group_name=s):(this.args.assignment.username=s,this.args.assignment.group_name=null),this.markAsEdited()}setStatus(e){this.args.assignment.status=e,this.markAsEdited()}},(0,g.setComponentTemplate)((0,p.createTemplateFactory)({id:"frRnfCiz",block:'[[[1,"\\n    "],[10,0],[15,0,[29,["control-group\\n        ",[52,[30,0,["showAssigneeIeEmptyError"]],"assignee-error"]]]],[12],[1,"\\n      "],[10,"label"],[12],[1,[28,[32,0],["discourse_assign.assign_modal.assignee_label"],null]],[13],[1,"\\n      "],[8,[32,1],[[24,"autocomplete","off"]],[["@id","@value","@onChange","@showUserStatus","@options"],["assignee-chooser",[30,0,["assignee"]],[30,0,["setAssignee"]],true,[28,[32,2],null,[["mobilePlacementStrategy","includeGroups","customSearchOptions","groupMembersOf","maximum","tabindex","expandedOnInsert","caretUpIcon","caretDownIcon"],["absolute",true,[28,[32,2],null,[["assignableGroups","defaultSearchResults"],[true,[30,0,["taskActions","suggestions"]]]]],[30,0,["taskActions","allowedGroups"]],1,1,[28,[32,3],[[30,0,["assignee"]]],null],"search","search"]]]]],null],[1,"\\n\\n"],[41,[30,0,["showAssigneeIeEmptyError"]],[[[1,"        "],[10,1],[14,0,"error-label"],[12],[1,"\\n          "],[1,[28,[32,4],["exclamation-triangle"],null]],[1,"\\n          "],[1,[28,[32,0],["discourse_assign.assign_modal.choose_assignee"],null]],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[1,"    "],[13],[1,"\\n\\n"],[41,[30,0,["siteSettings","enable_assign_status"]],[[[1,"      "],[10,0],[14,0,"control-group assign-status"],[12],[1,"\\n        "],[10,"label"],[12],[1,[28,[32,0],["discourse_assign.assign_modal.status_label"],null]],[13],[1,"\\n        "],[8,[32,5],null,[["@id","@content","@value","@onChange"],["assign-status",[30,0,["assignStatusOptions"]],[30,0,["status"]],[30,0,["setStatus"]]]],null],[1,"\\n      "],[13],[1,"\\n"]],[]],null],[1,"\\n    "],[10,0],[14,0,"control-group assign-status"],[12],[1,"\\n      "],[10,"label"],[12],[1,"\\n        "],[1,[28,[32,0],["discourse_assign.assign_modal.note_label"],null]],[1,"Â "],[10,1],[14,0,"label-optional"],[12],[1,[28,[32,0],["discourse_assign.assign_modal.optional_label"],null]],[13],[1,"\\n      "],[13],[1,"\\n\\n      "],[8,[32,6],[[24,1,"assign-modal-note"],[4,[32,7],["keydown",[30,0,["handleTextAreaKeydown"]]],null],[4,[32,7],["input",[30,0,["markAsEdited"]]],null]],[["@value"],[[30,1,["note"]]]],null],[1,"    "],[13],[1,"\\n  "]],["@assignment"],false,["if"]]',moduleName:"/var/www/discourse/app/assets/javascripts/discourse/discourse/plugins/discourse-assign/discourse/components/assignment.js",scope:()=>[l.default,d.default,t.hash,c.default,a.default,u.default,i.TextArea,n.on],isStrictMode:!0}),h),f=y((m=h).prototype,"siteSettings",[o.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=y(m.prototype,"taskActions",[o.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y(m.prototype,"handleTextAreaKeydown",[r.action],Object.getOwnPropertyDescriptor(m.prototype,"handleTextAreaKeydown"),m.prototype),y(m.prototype,"markAsEdited",[r.action],Object.getOwnPropertyDescriptor(m.prototype,"markAsEdited"),m.prototype),y(m.prototype,"setAssignee",[r.action],Object.getOwnPropertyDescriptor(m.prototype,"setAssignee"),m.prototype),y(m.prototype,"setStatus",[r.action],Object.getOwnPropertyDescriptor(m.prototype,"setStatus"),m.prototype),m)})),define("discourse/plugins/discourse-assign/discourse/components/bulk-actions/assign-user",["exports","@ember/component","@glimmer/component","@ember/object","@ember-compat/tracked-built-ins","@ember/template-factory"],(function(e,s,t,i,n,r){"use strict"
var o
function a(e,s,t){var i
return(s="symbol"==typeof(i=function(e,s){if("object"!=typeof e||!e)return e
var t=e[Symbol.toPrimitive]
if(void 0!==t){var i=t.call(e,s||"default")
if("object"!=typeof i)return i
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===s?String:Number)(e)}(s,"string"))?i:i+"")in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const l=(0,r.createTemplateFactory)({id:"1BdIAbQx",block:'[[[10,0],[12],[1,"\\n  "],[8,[39,0],null,[["@model","@onSubmit","@formApi"],[[30,0,["model"]],[30,0,["assign"]],[30,0,["formApi"]]]],null],[1,"\\n"],[13],[1,"\\n\\n"],[10,0],[12],[1,"\\n  "],[8,[39,1],[[24,0,"btn-primary"]],[["@action","@label"],[[30,0,["formApi","submit"]],[52,[30,0,["model","reassign"]],"discourse_assign.reassign.title","discourse_assign.assign_modal.assign"]]],null],[1,"\\n"],[13]],[],false,["assign-user-form","d-button","if"]]',moduleName:"discourse/plugins/discourse-assign/discourse/components/bulk-actions/assign-user.hbs",isStrictMode:!1})
let u=e.default=(o=class extends t.default{constructor(){super(...arguments),a(this,"model",new n.TrackedObject({})),a(this,"formApi",{submit(){}})}async assign(){return this.args.performAndRefresh({type:"assign",username:this.model.username,status:this.model.status,note:this.model.note})}},c=o.prototype,d="assign",p=[i.action],g=Object.getOwnPropertyDescriptor(o.prototype,"assign"),m=o.prototype,f={},Object.keys(g).forEach((function(e){f[e]=g[e]})),f.enumerable=!!f.enumerable,f.configurable=!!f.configurable,("value"in f||f.initializer)&&(f.writable=!0),f=p.slice().reverse().reduce((function(e,s){return s(c,d,e)||e}),f),m&&void 0!==f.initializer&&(f.value=f.initializer?f.initializer.call(m):void 0,f.initializer=void 0),void 0===f.initializer&&(Object.defineProperty(c,d,f),f=null),o)
var c,d,p,g,m,f;(0,s.setComponentTemplate)(l,u)})),define("discourse/plugins/discourse-assign/discourse/components/bulk-actions/bulk-assign-user",["exports","@glimmer/component","@ember/object","@ember/render-modifiers/modifiers/did-insert","@ember-compat/tracked-built-ins","discourse/plugins/discourse-assign/discourse/components/assign-user-form","@ember/template-factory","@ember/component"],(function(e,s,t,i,n,r,o,a){"use strict"
var l,u
function c(e,s,t){var i
return(s="symbol"==typeof(i=function(e,s){if("object"!=typeof e||!e)return e
var t=e[Symbol.toPrimitive]
if(void 0!==t){var i=t.call(e,s||"default")
if("object"!=typeof i)return i
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===s?String:Number)(e)}(s,"string"))?i:i+"")in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}function d(e,s,t,i,n){var r={}
return Object.keys(i).forEach((function(e){r[e]=i[e]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=t.slice().reverse().reduce((function(t,i){return i(e,s,t)||t}),r),n&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(n):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,s,r),r=null),r}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(u=class extends s.default{constructor(){super(...arguments),c(this,"model",new n.TrackedObject({})),c(this,"formApi",{submit(){}})}async assign(e){return e({type:"assign",username:this.model.username,status:this.model.status,note:this.model.note})}performRegistration(){this.args.onRegisterAction?.(this.assign.bind(this))}},(0,a.setComponentTemplate)((0,o.createTemplateFactory)({id:"JVQmYH9x",block:'[[[1,"\\n    "],[11,1],[4,[32,0],[[30,0,["performRegistration"]]],null],[12],[13],[1,"\\n    "],[8,[32,1],null,[["@model","@onSubmit","@formApi"],[[30,0,["model"]],[30,0,["assign"]],[30,0,["formApi"]]]],null],[1,"\\n  "]],[],false,[]]',moduleName:"/var/www/discourse/app/assets/javascripts/discourse/discourse/plugins/discourse-assign/discourse/components/bulk-actions/bulk-assign-user.js",scope:()=>[i.default,r.default],isStrictMode:!0}),u),d((l=u).prototype,"assign",[t.action],Object.getOwnPropertyDescriptor(l.prototype,"assign"),l.prototype),d(l.prototype,"performRegistration",[t.action],Object.getOwnPropertyDescriptor(l.prototype,"performRegistration"),l.prototype),l)})),define("discourse/plugins/discourse-assign/discourse/components/flagged-topic-listener",["exports","@ember/component","@ember/object"],(function(e,s,t){"use strict"
function i(e,s){e&&e.id===s.topic_id&&(0,t.set)(e,"assigned_to_user",s.assigned_to)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends s.default{didInsertElement(){super.didInsertElement(...arguments),this.messageBus.subscribe("/staff/topic-assignment",(e=>{this.flaggedTopics?this.flaggedTopics.forEach((s=>i(s.topic,e))):i(this.topic,e)}))}willDestroyElement(){super.willDestroyElement(...arguments),this.messageBus.unsubscribe("/staff/topic-assignment")}}e.default=n})),define("discourse/plugins/discourse-assign/discourse/components/group-assigned-filter",["exports","@ember/component","@ember/component/template-only","ember-this-fallback/deprecations-helper","@ember/template-factory"],(function(e,s,t,i,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const r=(0,n.createTemplateFactory)({id:"qCqP1MGh",block:'[[[10,"li"],[12],[1,"\\n"],[41,[30,1],[[[1,"    "],[8,[39,1],null,[["@route","@model","@query"],["group.assigned.show",[30,2,["username_lower"]],[28,[37,2],null,[["order","ascending","search"],[[30,3],[30,4],[30,5]]]]]],[["default"],[[[[1,"\\n      "],[10,0],[14,0,"assign-image"],[12],[1,"\\n        "],[10,3],[15,6,[30,2,["userPath"]]],[15,"data-user-card",[30,2,["username"]]],[12],[1,[28,[35,3],[[30,0,["filter"]]],[["imageSize"],["large"]]]],[13],[1,"\\n      "],[13],[1,"\\n\\n      "],[10,0],[14,0,"assign-names"],[12],[1,"\\n        "],[10,0],[14,0,"assign-username"],[12],[1,[28,[35,4],[[30,2,["username"]]],null]],[13],[1,"\\n        "],[10,0],[14,0,"assign-name"],[12],[1,[30,2,["name"]]],[13],[1,"\\n      "],[13],[1,"\\n\\n      "],[10,0],[14,0,"assign-count"],[12],[1,"\\n        "],[1,[30,2,["assignments_count"]]],[1,"\\n      "],[13],[1,"\\n    "]],[]]]]],[1,"\\n"]],[]],[[[41,[30,6],[[[1,"    "],[8,[39,1],null,[["@route","@model","@query"],["group.assigned.show",[30,2],[28,[37,2],null,[["order","ascending","search"],[[30,3],[30,4],[30,5]]]]]],[["default"],[[[[1,"\\n      "],[10,0],[14,0,"assign-image"],[12],[1,"\\n        "],[1,[28,[35,5],["group-plus"],null]],[1,"\\n      "],[13],[1,"\\n      "],[10,0],[14,0,"assign-names"],[12],[1,"\\n        "],[10,0],[14,0,"assign-username"],[12],[1,[30,6]],[13],[1,"\\n      "],[13],[1,"\\n\\n      "],[10,0],[14,0,"assign-count"],[12],[1,"\\n        "],[1,[30,7]],[1,"\\n      "],[13],[1,"\\n    "]],[]]]]],[1,"\\n"]],[]],[[[1,"    "],[8,[39,1],null,[["@route","@model","@query"],["group.assigned.show",[30,2],[28,[37,2],null,[["order","ascending","search"],[[30,3],[30,4],[30,5]]]]]],[["default"],[[[[1,"\\n      "],[10,0],[14,0,"assign-everyone"],[12],[1,"\\n        "],[1,[28,[35,6],["discourse_assign.group_everyone"],null]],[1,"\\n      "],[13],[1,"\\n      "],[10,0],[14,0,"assign-count"],[12],[1,"\\n        "],[1,[30,7]],[1,"\\n      "],[13],[1,"\\n    "]],[]]]]],[1,"\\n  "]],[]]]],[]]],[13],[1,[28,[32,0],["[[\\"The `filter` property path was used in the `discourse/plugins/discourse-assign/discourse/components/group-assigned-filter.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.filter}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}]]"],null]]],["@showAvatar","@filter","@order","@ascending","@search","@groupName","@assignmentCount"],false,["if","link-to","hash","avatar","format-username","d-icon","i18n"]]',moduleName:"discourse/plugins/discourse-assign/discourse/components/group-assigned-filter.hbs",scope:()=>[i.default],isStrictMode:!1})
e.default=(0,s.setComponentTemplate)(r,(0,t.default)())})),define("discourse/plugins/discourse-assign/discourse/components/group-assigned-menu-item",["exports","@ember/component","@ember/component/template-only","@ember/template-factory"],(function(e,s,t,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const n=(0,i.createTemplateFactory)({id:"PBXUjQcZ",block:'[[[8,[39,0],null,[["@route"],["group.assigned"]],[["default"],[[[[1,"\\n  "],[1,[28,[35,1],["group-plus"],[["class"],["glyph"]]]],[1,[28,[35,2],["discourse_assign.assigned"],null]],[1,"\\n  ("],[1,[30,1,["assignment_count"]]],[1,")\\n"]],[]]]]]],["@group"],false,["link-to","d-icon","i18n"]]',moduleName:"discourse/plugins/discourse-assign/discourse/components/group-assigned-menu-item.hbs",isStrictMode:!1})
e.default=(0,s.setComponentTemplate)(n,(0,t.default)())})),define("discourse/plugins/discourse-assign/discourse/components/modal/assign-user",["exports","@ember/component","@glimmer/component","@ember/object","@ember/service","@ember-compat/tracked-built-ins","I18n","@ember/template-factory"],(function(e,s,t,i,n,r,o,a){"use strict"
var l,u
function c(e,s,t){var i
return(s="symbol"==typeof(i=function(e,s){if("object"!=typeof e||!e)return e
var t=e[Symbol.toPrimitive]
if(void 0!==t){var i=t.call(e,s||"default")
if("object"!=typeof i)return i
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===s?String:Number)(e)}(s,"string"))?i:i+"")in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}function d(e,s,t,i,n){var r={}
return Object.keys(i).forEach((function(e){r[e]=i[e]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=t.slice().reverse().reduce((function(t,i){return i(e,s,t)||t}),r),n&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(n):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,s,r),r=null),r}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const p=(0,a.createTemplateFactory)({id:"wlibZ2f0",block:'[[[8,[39,0],[[24,0,"assign"]],[["@title","@closeModal"],[[30,0,["title"]],[30,1]]],[["body","footer"],[[[[1,"\\n    "],[8,[39,1],null,[["@model","@onSubmit","@formApi"],[[30,0,["model"]],[30,0,["onSubmit"]],[30,0,["formApi"]]]],null],[1,"\\n  "]],[]],[[[1,"\\n    "],[8,[39,2],[[24,0,"btn-primary"]],[["@action","@label"],[[30,0,["formApi","submit"]],[52,[30,0,["model","reassign"]],"discourse_assign.reassign.title","discourse_assign.assign_modal.assign"]]],null],[1,"\\n\\n    "],[8,[39,4],null,[["@close"],[[30,1]]],null],[1,"\\n  "]],[]]]]]],["@closeModal"],false,["d-modal","assign-user-form","d-button","if","d-modal-cancel"]]',moduleName:"discourse/plugins/discourse-assign/discourse/components/modal/assign-user.hbs",isStrictMode:!1})
let g=e.default=(l=class extends t.default{constructor(){var e,s,t,i
super(...arguments),e=this,s="taskActions",i=this,(t=u)&&Object.defineProperty(e,s,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0}),c(this,"model",new r.TrackedObject(this.args.model)),c(this,"formApi",{submit(){}})}get title(){let e
switch(this.model.targetType){case"Post":e="_post_modal"
break
case"Topic":e="_modal"}return o.default.t(`discourse_assign.assign${e}.${this.model.reassign?"reassign_title":"title"}`)}async onSubmit(){this.args.closeModal(),await this.taskActions.assign(this.model)}},u=d(l.prototype,"taskActions",[n.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d(l.prototype,"onSubmit",[i.action],Object.getOwnPropertyDescriptor(l.prototype,"onSubmit"),l.prototype),l);(0,s.setComponentTemplate)(p,g)})),define("discourse/plugins/discourse-assign/discourse/components/modal/edit-topic-assignments",["exports","@glimmer/component","@glimmer/tracking","@ember/object","@ember/service","discourse/components/d-button","discourse/components/d-modal","discourse/components/d-modal-cancel","discourse/lib/ajax-error","I18n","discourse/plugins/discourse-assign/discourse/components/topic-assignments","@ember/template-factory","@ember/component"],(function(e,s,t,i,n,r,o,a,l,u,c,d,p){"use strict"
var g,m,f,b,h
function v(e,s,t,i){t&&Object.defineProperty(e,s,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function y(e,s){(function(e,s){if(s.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,s),s.add(e)}function _(e,s,t){return function(e,s,t){if("function"==typeof e?e===s:e.has(s))return arguments.length<3?s:t
throw new TypeError("Private element is not present on this object")}(s,e),t}function w(e,s,t,i,n){var r={}
return Object.keys(i).forEach((function(e){r[e]=i[e]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=t.slice().reverse().reduce((function(t,i){return i(e,s,t)||t}),r),n&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(n):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,s,r),r=null),r}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(h=new WeakSet,b=class extends s.default{constructor(){super(...arguments),y(this,h),v(this,"taskActions",m,this),v(this,"assignments",f,this)}get title(){return this.topic.isAssigned()||this.topic.hasAssignedPosts()?u.default.t("edit_assignments_modal.title"):u.default.t("discourse_assign.assign_modal.title")}get topic(){return this.args.model.topic}async submit(){this.args.closeModal()
try{await _(this,h,j).call(this)}catch(e){(0,l.popupAjaxError)(e)}}},(0,p.setComponentTemplate)((0,d.createTemplateFactory)({id:"D9uFB0fZ",block:'[[[1,"\\n    "],[8,[32,0],[[24,0,"assign"]],[["@title","@closeModal"],[[30,0,["title"]],[30,1]]],[["body","footer"],[[[[1,"\\n        "],[8,[32,1],null,[["@assignments"],[[30,0,["assignments"]]]],null],[1,"\\n      "]],[]],[[[1,"\\n        "],[8,[32,2],[[24,0,"btn-primary"]],[["@action","@label"],[[30,0,["submit"]],[52,[30,0,["model","reassign"]],"discourse_assign.reassign.title","discourse_assign.assign_modal.assign"]]],null],[1,"\\n\\n        "],[8,[32,3],null,[["@close"],[[30,1]]],null],[1,"\\n      "]],[]]]]],[1,"\\n  "]],["@closeModal"],false,["if"]]',moduleName:"/var/www/discourse/app/assets/javascripts/discourse/discourse/plugins/discourse-assign/discourse/components/modal/edit-topic-assignments.js",scope:()=>[o.default,c.default,r.default,a.default],isStrictMode:!0}),b),m=w((g=b).prototype,"taskActions",[n.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=w(g.prototype,"assignments",[t.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.topic.assignments()}}),w(g.prototype,"submit",[i.action],Object.getOwnPropertyDescriptor(g.prototype,"submit"),g.prototype),g)
async function j(){for(const e of this.assignments)e.isEdited&&await this.taskActions.putAssignment(e)}})),define("discourse/plugins/discourse-assign/discourse/components/remind-assigns-frequency",["exports","@ember/component","discourse-common/utils/decorators","I18n","@ember/template-factory"],(function(e,s,t,i,n){"use strict"
var r,o,a
function l(e,s,t,i,n){var r={}
return Object.keys(i).forEach((function(e){r[e]=i[e]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=t.slice().reverse().reduce((function(t,i){return i(e,s,t)||t}),r),n&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(n):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,s,r),r=null),r}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const u=(0,n.createTemplateFactory)({id:"X3K6QQFI",block:'[[[41,[30,0,["siteSettings","assign_enabled"]],[[[1,"  "],[10,0],[14,0,"controls controls-dropdown"],[12],[1,"\\n    "],[10,"label"],[12],[1,[28,[35,1],["discourse_assign.reminders_frequency.description"],null]],[13],[1,"\\n    "],[8,[39,2],null,[["@id","@valueProperty","@content","@value","@onChange"],["remind-assigns-frequency","value",[30,0,["availableFrequencies"]],[30,0,["selectedFrequency"]],[28,[37,3],[[30,0],[28,[37,4],[[30,0,["user","custom_fields","remind_assigns_frequency"]]],null]],null]]],null],[1,"\\n  "],[13],[1,"\\n"]],[]],null]],[],false,["if","i18n","combo-box","action","mut"]]',moduleName:"discourse/plugins/discourse-assign/discourse/components/remind-assigns-frequency.hbs",isStrictMode:!1})
let c=e.default=(r=(0,t.default)("user.custom_fields.remind_assigns_frequency","siteSettings.remind_assigns_frequency"),o=(0,t.default)("user.reminders_frequency"),l((a=class extends s.default{selectedFrequency(e,s){return this.availableFrequencies.map((e=>e.value)).includes(e)?e:s}availableFrequencies(e){return e.map((e=>({name:i.default.t(e.name),value:e.value,selected:!1})))}}).prototype,"selectedFrequency",[r],Object.getOwnPropertyDescriptor(a.prototype,"selectedFrequency"),a.prototype),l(a.prototype,"availableFrequencies",[o],Object.getOwnPropertyDescriptor(a.prototype,"availableFrequencies"),a.prototype),a);(0,s.setComponentTemplate)(u,c)})),define("discourse/plugins/discourse-assign/discourse/components/topic-assignments",["exports","@glimmer/component","@glimmer/tracking","@ember/object","discourse-common/helpers/i18n","I18n","select-kit/components/combo-box","discourse/plugins/discourse-assign/discourse/components/assignment","@ember/template-factory","@ember/component"],(function(e,s,t,i,n,r,o,a,l,u){"use strict"
var c,d,p,g
function m(e,s){(function(e,s){if(s.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,s),s.add(e)}function f(e,s,t){return function(e,s,t){if("function"==typeof e?e===s:e.has(s))return arguments.length<3?s:t
throw new TypeError("Private element is not present on this object")}(s,e),t}function b(e,s,t,i,n){var r={}
return Object.keys(i).forEach((function(e){r[e]=i[e]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=t.slice().reverse().reduce((function(t,i){return i(e,s,t)||t}),r),n&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(n):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,s,r),r=null),r}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(g=new WeakSet,p=class extends s.default{constructor(){var e,s,t,i
super(...arguments),m(this,g),e=this,s="selectedAssignment",i=this,(t=d)&&Object.defineProperty(e,s,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}get assignmentOptions(){return this.args.assignments.map((e=>f(this,g,h).call(this,e)))}selectAssignment(e){this.selectedAssignment=this.args.assignments.find((s=>s.id===e))}},(0,u.setComponentTemplate)((0,l.createTemplateFactory)({id:"XAixgpIS",block:'[[[1,"\\n    "],[10,0],[14,0,"control-group target"],[12],[1,"\\n      "],[10,"label"],[12],[1,[28,[32,0],["discourse_assign.assign_modal.assignment_label"],null]],[13],[1,"\\n      "],[8,[32,1],null,[["@value","@content","@onChange"],[[30,0,["selectedAssignment","id"]],[30,0,["assignmentOptions"]],[30,0,["selectAssignment"]]]],null],[1,"\\n    "],[13],[1,"\\n    "],[8,[32,2],null,[["@assignment","@onSubmit","@showValidationErrors"],[[30,0,["selectedAssignment"]],[30,0,["submit"]],false]],null],[1,"\\n  "]],[],false,[]]',moduleName:"/var/www/discourse/app/assets/javascripts/discourse/discourse/plugins/discourse-assign/discourse/components/topic-assignments.js",scope:()=>[n.default,o.default,a.default],isStrictMode:!0}),p),d=b((c=p).prototype,"selectedAssignment",[t.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.args.assignments.find((e=>0===e.id))}}),b(c.prototype,"selectAssignment",[i.action],Object.getOwnPropertyDescriptor(c.prototype,"selectAssignment"),c.prototype),c)
function h(e){const s={id:e.id}
return"Topic"===e.targetType?s.name=r.default.t("edit_assignments_modal.topic"):s.name=`${r.default.t("edit_assignments_modal.post")} #${e.postNumber}`,s}})),define("discourse/plugins/discourse-assign/discourse/components/topic-level-assign-menu",["exports","@ember/application","@ember/template","discourse/helpers/user-avatar","discourse-common/lib/icon-library","I18n","discourse/plugins/discourse-assign/discourse/components/modal/edit-topic-assignments"],(function(e,s,t,i,n,r,o){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default={id:"reassign",dependentKeys:["topic.assigned_to_user","topic.assigned_to_group","currentUser.can_assign","topic.assigned_to_user.username"],classNames:["reassign"],async action(e){if(!this.currentUser?.can_assign)return
const t=(0,s.getOwner)(this).lookup("service:task-actions"),i=(0,s.getOwner)(this).lookup("service:modal"),n=this.topic.postStream.firstPostId
switch(e){case"unassign":this.set("topic.assigned_to_user",null),this.set("topic.assigned_to_group",null),await t.unassign(this.topic.id),this.appEvents.trigger("post-stream:refresh",{id:n})
break
case"reassign-self":this.set("topic.assigned_to_user",null),this.set("topic.assigned_to_group",null),await t.reassignUserToTopic(this.currentUser,this.topic),this.appEvents.trigger("post-stream:refresh",{id:n})
break
case"reassign":await i.show(o.default,{model:{topic:this.topic},onSuccess:()=>this.appEvents.trigger("post-stream:refresh",{id:n})})
break
default:if(e.startsWith("unassign-from-post-")){const s=function(e){const s=e.lastIndexOf("-")+1
return e.substring(s)}(e)
await t.unassign(s,"Post"),delete this.topic.indirectly_assigned_to[s],this.appEvents.trigger("post-stream:refresh",{id:n})}}},noneItem(){return function(e){const s=function(e){const s=e.filter((e=>e.username))
let t=""
1===s.length?t=a(s[0],"tiny"):s.length>1&&(t=a(s[0],"tiny","overlap")+a(s[1],"tiny"))
return t}(e),i=`<span class="unassign-label">${r.default.t("discourse_assign.topic_level_menu.unassign_with_ellipsis")}</span>`
return{id:null,name:(0,t.htmlSafe)(r.default.t("discourse_assign.topic_level_menu.unassign_with_ellipsis")),label:(0,t.htmlSafe)(`${s}${i}`)}}(this.topic.uniqueAssignees())},content(){const e=[]
return this.topic.isAssigned()&&e.push(function(e){const s=e.assigned_to_user?.username||e.assigned_to_group?.name,i=e.assigned_to_user?a(e.assigned_to_user,"small"):(0,n.iconHTML)("user-times"),o=r.default.t("discourse_assign.topic_level_menu.unassign_from_topic",{username:s})
return{id:"unassign",name:(0,t.htmlSafe)(o),label:(0,t.htmlSafe)(`${i} ${o}`)}}(this.topic)),this.topic.hasAssignedPosts()&&e.push(...function(e){if(!e.hasAssignedPosts())return[]
const s=10
return Object.entries(e.indirectly_assigned_to).slice(0,s).map((e=>{let[s,i]=e
return function(e,s){let i,o
const l=!!s.assigned_to.username
l?(i=s.assigned_to.username,o=a(s.assigned_to,"small")):(i=s.assigned_to.name,o=(0,n.iconHTML)("group-times"))
const u=r.default.t("discourse_assign.topic_level_menu.unassign_from_post",{assignee:i,post_number:s.post_number}),c=r.default.t("discourse_assign.topic_level_menu.unassign_from_post_help",{assignee:i,post_number:s.post_number})
return{id:`unassign-from-post-${e}`,name:(0,t.htmlSafe)(c),label:(0,t.htmlSafe)(`${o} ${u}`)}}(s,i)}))}(this.topic)),this.topic.isAssigned()&&!this.topic.isAssignedTo(this.currentUser)&&e.push(function(){const e=(0,n.iconHTML)("user-plus"),s=r.default.t("discourse_assign.topic_level_menu.reassign_topic_to_me")
return{id:"reassign-self",name:(0,t.htmlSafe)(s),label:(0,t.htmlSafe)(`${e} ${s}`)}}()),e.push(function(){const e=(0,n.iconHTML)("pencil-alt"),s=r.default.t("discourse_assign.topic_level_menu.edit_assignments")
return{id:"reassign",name:(0,t.htmlSafe)(s),label:(0,t.htmlSafe)(`${e} ${s}`)}}()),e},displayed(){return this.currentUser?.can_assign&&!this.site.mobileView&&(this.topic.isAssigned()||this.topic.hasAssignedPosts())}}
function a(e,s,t){return(0,i.renderAvatar)(e,{imageSize:s,extraClasses:t,ignoreTitle:!0})}})),define("discourse/plugins/discourse-assign/discourse/components/user-menu/assigns-list-empty-state",["exports","@ember/component","@ember/component/template-only","@ember/template-factory"],(function(e,s,t,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const n=(0,i.createTemplateFactory)({id:"inD5wpPw",block:'[[[10,0],[14,0,"empty-state"],[12],[1,"\\n  "],[10,1],[14,0,"empty-state-title"],[12],[1,"\\n    "],[1,[28,[35,0],["user.no_assignments_title"],null]],[1,"\\n  "],[13],[1,"\\n  "],[10,0],[14,0,"empty-state-body"],[12],[1,"\\n    "],[10,2],[12],[1,"\\n      "],[1,[28,[35,1],[[28,[37,0],["user.no_assignments_body"],[["icon","preferencesUrl"],[[28,[37,2],["user-plus"],null],[28,[37,3],["/my/preferences/notifications"],null]]]]],null]],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n"],[13]],[],false,["i18n","html-safe","d-icon","get-url"]]',moduleName:"discourse/plugins/discourse-assign/discourse/components/user-menu/assigns-list-empty-state.hbs",isStrictMode:!1})
e.default=(0,s.setComponentTemplate)(n,(0,t.default)())})),define("discourse/plugins/discourse-assign/discourse/components/user-menu/assigns-list",["exports","@ember/object","@ember/object/computed","discourse/components/user-menu/notifications-list","I18n","discourse/plugins/discourse-assign/discourse/components/user-menu/assigns-list-empty-state"],(function(e,s,t,i,n,r){"use strict"
var o,a,l
function u(e,s,t){var i
return(s="symbol"==typeof(i=function(e,s){if("object"!=typeof e||!e)return e
var t=e[Symbol.toPrimitive]
if(void 0!==t){var i=t.call(e,s||"default")
if("object"!=typeof i)return i
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===s?String:Number)(e)}(s,"string"))?i:i+"")in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class c extends i.default{get dismissTypes(){return this.filterByTypes}get showDismiss(){return this._unreadAssignedNotificationsCount>0}get dismissTitle(){return n.default.t("user.dismiss_assigned_tooltip")}get showAllHref(){return`${this.currentUser.path}/activity/assigned`}get showAllTitle(){return n.default.t("user_menu.view_all_assigned")}get itemsCacheKey(){return"user-menu-assigns-tab"}get emptyStateComponent(){return r.default}get alwaysRenderDismissConfirmation(){return!0}get _unreadAssignedNotificationsCount(){const e=`grouped_unread_notifications.${this.site.notification_types.assigned}`
return this.currentUser.get(e)||0}get dismissConfirmationText(){return n.default.t("notifications.dismiss_confirmation.body.assigns",{count:this._unreadAssignedNotificationsCount})}async fetchItems(){return new d(await super.fetchItems()).sortedItems}}e.default=c
let d=(o=(0,t.sort)("items","itemsSorting"),a=class{constructor(e){var t,i,n,r
u(this,"itemsSorting",["notification.read","notification.data.message:desc","notification.created_at:desc"]),t=this,i="sortedItems",r=this,(n=l)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0}),(0,s.set)(this,"items",e)}},p=a.prototype,g="sortedItems",m=[o],f={configurable:!0,enumerable:!0,writable:!0,initializer:null},h={},Object.keys(f).forEach((function(e){h[e]=f[e]})),h.enumerable=!!h.enumerable,h.configurable=!!h.configurable,("value"in h||h.initializer)&&(h.writable=!0),h=m.slice().reverse().reduce((function(e,s){return s(p,g,e)||e}),h),b&&void 0!==h.initializer&&(h.value=h.initializer?h.initializer.call(b):void 0,h.initializer=void 0),void 0===h.initializer&&(Object.defineProperty(p,g,h),h=null),l=h,a)
var p,g,m,f,b,h})),define("discourse/plugins/discourse-assign/discourse/connectors/above-review-filters/assigned-to-filter",["exports","@ember/object"],(function(e,s){"use strict"
var t
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i,n,r,o,a,l
e.default=(i=t={updateAssignedTo(e){this.set("additionalFilters.assigned_to",e.firstObject)},shouldRender:e=>e.additionalFilters,setupComponent(e,s){const t=(s.siteSettings.assign_allowed_on_groups||"").split("|").filter(Boolean),i=this.site.groups.filter((e=>t.includes(e.id.toString()))).mapBy("name")
s.set("allowedGroups",i)}},n="updateAssignedTo",r=[s.action],o=Object.getOwnPropertyDescriptor(t,"updateAssignedTo"),a=t,l={},Object.keys(o).forEach((function(e){l[e]=o[e]})),l.enumerable=!!l.enumerable,l.configurable=!!l.configurable,("value"in l||l.initializer)&&(l.writable=!0),l=r.slice().reverse().reduce((function(e,s){return s(i,n,e)||e}),l),a&&void 0!==l.initializer&&(l.value=l.initializer?l.initializer.call(a):void 0,l.initializer=void 0),void 0===l.initializer&&(Object.defineProperty(i,n,l),l=null),t)})),define("discourse/plugins/discourse-assign/discourse/connectors/advanced-search-options-below/assigned-advanced-search",["exports","@ember/object"],(function(e,s){"use strict"
var t
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i,n,r,o,a,l
e.default=(i=t={shouldRender:(e,s)=>s.currentUser?.can_assign,onChangeAssigned(e){this.onChangeSearchedTermField("assigned","updateSearchTermForAssignedUsername",e)}},n="onChangeAssigned",r=[s.action],o=Object.getOwnPropertyDescriptor(t,"onChangeAssigned"),a=t,l={},Object.keys(o).forEach((function(e){l[e]=o[e]})),l.enumerable=!!l.enumerable,l.configurable=!!l.configurable,("value"in l||l.initializer)&&(l.writable=!0),l=r.slice().reverse().reduce((function(e,s){return s(i,n,e)||e}),l),a&&void 0!==l.initializer&&(l.value=l.initializer?l.initializer.call(a):void 0,l.initializer=void 0),void 0===l.initializer&&(Object.defineProperty(i,n,l),l=null),t)})),define("discourse/plugins/discourse-assign/discourse/connectors/category-custom-settings/assign-settings",["exports","@ember/object"],(function(e,s){"use strict"
var t
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i,n,r,o,a,l
e.default=(i=t={onChangeSetting(e){this.set("category.custom_fields.enable_unassigned_filter",e?"true":"false")}},n="onChangeSetting",r=[s.action],o=Object.getOwnPropertyDescriptor(t,"onChangeSetting"),a=t,l={},Object.keys(o).forEach((function(e){l[e]=o[e]})),l.enumerable=!!l.enumerable,l.configurable=!!l.configurable,("value"in l||l.initializer)&&(l.writable=!0),l=r.slice().reverse().reduce((function(e,s){return s(i,n,e)||e}),l),a&&void 0!==l.initializer&&(l.value=l.initializer?l.initializer.call(a):void 0,l.initializer=void 0),void 0===l.initializer&&(Object.defineProperty(i,n,l),l=null),t)})),define("discourse/plugins/discourse-assign/discourse/connectors/group-reports-nav-item/assigned-topic-list",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default={shouldRender:(e,s)=>s.currentUser?.can_assign&&e.group.can_show_assigned_tab&&e.group.assignment_count>0}})),define("discourse/plugins/discourse-assign/discourse/connectors/groups-interaction-custom-options/assignable-interaction-fields",["exports","@glimmer/component","@ember/object","I18n"],(function(e,s,t,i){"use strict"
var n
function r(e,s,t){var i
return(s="symbol"==typeof(i=function(e,s){if("object"!=typeof e||!e)return e
var t=e[Symbol.toPrimitive]
if(void 0!==t){var i=t.call(e,s||"default")
if("object"!=typeof i)return i
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===s?String:Number)(e)}(s,"string"))?i:i+"")in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(n=class extends s.default{constructor(){super(...arguments),r(this,"assignableLevelOptions",[{name:i.default.t("groups.alias_levels.nobody"),value:0},{name:i.default.t("groups.alias_levels.only_admins"),value:1},{name:i.default.t("groups.alias_levels.mods_and_admins"),value:2},{name:i.default.t("groups.alias_levels.members_mods_and_admins"),value:3},{name:i.default.t("groups.alias_levels.owners_mods_and_admins"),value:4},{name:i.default.t("groups.alias_levels.everyone"),value:99}])}get assignableLevel(){return this.args.outletArgs.model.get("assignable_level")||0}onChangeAssignableLevel(e){this.args.outletArgs.model.set("assignable_level",e)}},o=n.prototype,a="onChangeAssignableLevel",l=[t.action],u=Object.getOwnPropertyDescriptor(n.prototype,"onChangeAssignableLevel"),c=n.prototype,d={},Object.keys(u).forEach((function(e){d[e]=u[e]})),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=l.slice().reverse().reduce((function(e,s){return s(o,a,e)||e}),d),c&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(c):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(o,a,d),d=null),n)
var o,a,l,u,c,d})),define("discourse/plugins/discourse-assign/discourse/connectors/user-messages-nav/assigned-messages",["exports"],(function(e){"use strict"
function s(e,s){const t=s.currentUser?.can_assign
return t&&(!s.site.mobileView||e.model.isPrivateMessage)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.shouldShowAssigned=s
e.default={shouldRender:(e,t)=>s(e,t)}})),define("discourse/plugins/discourse-assign/discourse/connectors/user-preferences-notifications/remind-assigns-frequency",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default={shouldRender:(e,s)=>s.currentUser?.can_assign}}))
define("discourse/plugins/discourse-assign/discourse/controllers/bulk-assign",["exports","@ember/controller","@ember/object"],(function(e,s,t){"use strict"
var i,n
function r(e,s,t){var i
return(s="symbol"==typeof(i=function(e,s){if("object"!=typeof e||!e)return e
var t=e[Symbol.toPrimitive]
if(void 0!==t){var i=t.call(e,s||"default")
if("object"!=typeof i)return i
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===s?String:Number)(e)}(s,"string"))?i:i+"")in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}function o(e,s,t,i,n){var r={}
return Object.keys(i).forEach((function(e){r[e]=i[e]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=t.slice().reverse().reduce((function(t,i){return i(e,s,t)||t}),r),n&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(n):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,s,r),r=null),r}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(i=class extends s.default{constructor(){var e,s,t,i
super(...arguments),e=this,s="topicBulkActions",i=this,(t=n)&&Object.defineProperty(e,s,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0}),r(this,"model",void 0),r(this,"formApi",{submit(){}})}async assign(){return this.topicBulkActions.performAndRefresh({type:"assign",username:this.model.username,note:this.model.note})}},n=o(i.prototype,"topicBulkActions",[s.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o(i.prototype,"assign",[t.action],Object.getOwnPropertyDescriptor(i.prototype,"assign"),i.prototype),i)})),define("discourse/plugins/discourse-assign/discourse/controllers/group-assigned-show",["exports","@ember/controller","@ember/object","@ember/object/computed","@ember/service","discourse/controllers/user-topics-list","discourse-common/config/environment","discourse-common/lib/debounce"],(function(e,s,t,i,n,r,o,a){"use strict"
var l,u,c,d,p,g
function m(e,s,t,i){t&&Object.defineProperty(e,s,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function f(e,s,t){var i
return(s="symbol"==typeof(i=function(e,s){if("object"!=typeof e||!e)return e
var t=e[Symbol.toPrimitive]
if(void 0!==t){var i=t.call(e,s||"default")
if("object"!=typeof i)return i
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===s?String:Number)(e)}(s,"string"))?i:i+"")in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}function b(e,s,t,i,n){var r={}
return Object.keys(i).forEach((function(e){r[e]=i[e]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=t.slice().reverse().reduce((function(t,i){return i(e,s,t)||t}),r),n&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(n):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,s,r),r=null),r}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(l=(0,i.alias)("currentUser.staff"),u=class extends r.default{constructor(){super(...arguments),m(this,"taskActions",c,this),m(this,"router",d,this),m(this,"user",p,this),f(this,"queryParams",["order","ascending","search"]),f(this,"order",""),f(this,"ascending",!1),f(this,"search",""),f(this,"bulkSelectEnabled",!1),f(this,"selected",[]),m(this,"canBulkSelect",g,this)}_setSearchTerm(e){this.set("search",e),this.refreshModel()}refreshModel(){this.set("loading",!0),this.store.findFiltered("topicList",{filter:this.model.filter,params:{order:this.order,ascending:this.ascending,search:this.search,direct:this.model.params.direct}}).then((e=>this.set("model",e))).finally((()=>{this.set("loading",!1)}))}async unassign(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Topic"
await this.taskActions.unassign(e,s),this.router.refresh()}reassign(e){this.taskActions.showAssignModal(e,{onSuccess:()=>this.router.refresh()})}changeSort(e){e===this.order?(this.toggleProperty("ascending"),this.refreshModel()):(this.setProperties({order:e,ascending:!1}),this.refreshModel())}onChangeFilter(e){(0,a.default)(this,this._setSearchTerm,e,2*o.INPUT_DELAY)}toggleBulkSelect(){this.toggleProperty("bulkSelectEnabled")}refresh(){this.refreshModel()}},c=b(u.prototype,"taskActions",[n.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=b(u.prototype,"router",[n.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=b(u.prototype,"user",[s.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=b(u.prototype,"canBulkSelect",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b(u.prototype,"unassign",[t.action],Object.getOwnPropertyDescriptor(u.prototype,"unassign"),u.prototype),b(u.prototype,"reassign",[t.action],Object.getOwnPropertyDescriptor(u.prototype,"reassign"),u.prototype),b(u.prototype,"changeSort",[t.action],Object.getOwnPropertyDescriptor(u.prototype,"changeSort"),u.prototype),b(u.prototype,"onChangeFilter",[t.action],Object.getOwnPropertyDescriptor(u.prototype,"onChangeFilter"),u.prototype),b(u.prototype,"toggleBulkSelect",[t.action],Object.getOwnPropertyDescriptor(u.prototype,"toggleBulkSelect"),u.prototype),b(u.prototype,"refresh",[t.action],Object.getOwnPropertyDescriptor(u.prototype,"refresh"),u.prototype),u)})),define("discourse/plugins/discourse-assign/discourse/controllers/group-assigned",["exports","@ember/controller","@ember/object","@ember/service","discourse/lib/ajax","discourse-common/config/environment","discourse-common/lib/debounce","discourse-common/utils/decorators"],(function(e,s,t,i,n,r,o,a){"use strict"
var l,u,c,d,p,g,m
function f(e,s,t,i){t&&Object.defineProperty(e,s,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function b(e,s,t){var i
return(s="symbol"==typeof(i=function(e,s){if("object"!=typeof e||!e)return e
var t=e[Symbol.toPrimitive]
if(void 0!==t){var i=t.call(e,s||"default")
if("object"!=typeof i)return i
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===s?String:Number)(e)}(s,"string"))?i:i+"")in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}function h(e,s,t,i,n){var r={}
return Object.keys(i).forEach((function(e){r[e]=i[e]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=t.slice().reverse().reduce((function(t,i){return i(e,s,t)||t}),r),n&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(n):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,s,r),r=null),r}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(l=(0,a.default)("router.currentRoute.queryParams.order"),u=(0,a.default)("router.currentRoute.queryParams.ascending"),c=(0,a.default)("router.currentRoute.queryParams.search"),d=(0,a.default)("site.mobileView"),p=class extends s.default{constructor(){super(...arguments),f(this,"router",g,this),f(this,"application",m,this),b(this,"loading",!1),b(this,"offset",0),b(this,"filterName",""),b(this,"filter","")}order(e){return e||""}ascending(e){return e||!1}search(e){return e||""}isDesktop(e){return!e}_setFilter(e){this.set("loading",!0),this.set("offset",0),this.set("filter",e)
const s=this.group.name;(0,n.ajax)(`/assign/members/${s}`,{type:"GET",data:{filter:this.filter,offset:this.offset}}).then((e=>{"everyone"!==this.router.currentRoute.params.filter&&this.router.transitionTo("group.assigned.show",s,"everyone"),this.set("members",e.members)})).finally((()=>{this.set("loading",!1)}))}findMembers(e){e?this.set("members",this.model.members):!this.loading&&this.model&&this.model.members.length>=this.offset+50&&(this.set("loading",!0),this.set("offset",this.offset+50),(0,n.ajax)(`/assign/members/${this.group.name}`,{type:"GET",data:{filter:this.filter,offset:this.offset}}).then((e=>{this.members.pushObjects(e.members)})).finally((()=>this.set("loading",!1))))}loadMore(){this.findMembers()}onChangeFilterName(e){(0,o.default)(this,this._setFilter,e,2*r.INPUT_DELAY)}},g=h(p.prototype,"router",[i.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=h(p.prototype,"application",[s.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h(p.prototype,"order",[l],Object.getOwnPropertyDescriptor(p.prototype,"order"),p.prototype),h(p.prototype,"ascending",[u],Object.getOwnPropertyDescriptor(p.prototype,"ascending"),p.prototype),h(p.prototype,"search",[c],Object.getOwnPropertyDescriptor(p.prototype,"search"),p.prototype),h(p.prototype,"isDesktop",[d],Object.getOwnPropertyDescriptor(p.prototype,"isDesktop"),p.prototype),h(p.prototype,"loadMore",[t.action],Object.getOwnPropertyDescriptor(p.prototype,"loadMore"),p.prototype),h(p.prototype,"onChangeFilterName",[t.action],Object.getOwnPropertyDescriptor(p.prototype,"onChangeFilterName"),p.prototype),p)})),define("discourse/plugins/discourse-assign/discourse/controllers/user-activity-assigned",["exports","@ember/controller","@ember/object","@ember/service","@ember/template","discourse/controllers/user-topics-list","discourse-common/config/environment","discourse-common/lib/debounce","discourse-common/lib/get-url","discourse-common/lib/icon-library","discourse-common/utils/decorators","I18n"],(function(e,s,t,i,n,r,o,a,l,u,c,d){"use strict"
var p,g,m,f
function b(e,s,t,i){t&&Object.defineProperty(e,s,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function h(e,s,t){var i
return(s="symbol"==typeof(i=function(e,s){if("object"!=typeof e||!e)return e
var t=e[Symbol.toPrimitive]
if(void 0!==t){var i=t.call(e,s||"default")
if("object"!=typeof i)return i
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===s?String:Number)(e)}(s,"string"))?i:i+"")in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}function v(e,s,t,i,n){var r={}
return Object.keys(i).forEach((function(e){r[e]=i[e]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=t.slice().reverse().reduce((function(t,i){return i(e,s,t)||t}),r),n&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(n):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,s,r),r=null),r}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(p=(0,c.default)("model.topics.length","search"),g=class extends r.default{constructor(){super(...arguments),b(this,"taskActions",m,this),b(this,"user",f,this),h(this,"queryParams",["order","ascending","search"]),h(this,"order",""),h(this,"ascending",!1),h(this,"search","")}doesntHaveAssignments(e,s){return!s&&!e}emptyStateBody(){return(0,n.htmlSafe)(d.default.t("user.no_assignments_body",{preferencesUrl:(0,l.default)("/my/preferences/notifications"),icon:(0,u.iconHTML)("user-plus")}))}_setSearchTerm(e){this.set("search",e),this.refreshModel()}refreshModel(){this.set("loading",!0),this.store.findFiltered("topicList",{filter:this.model.filter,params:{order:this.order,ascending:this.ascending,search:this.search}}).then((e=>this.set("model",e))).finally((()=>{this.set("loading",!1)}))}changeSort(e){e===this.order?(this.toggleProperty("ascending"),this.refreshModel()):(this.setProperties({order:e,ascending:!1}),this.refreshModel())}onChangeFilter(e){(0,a.default)(this,this._setSearchTerm,e,2*o.INPUT_DELAY)}},m=v(g.prototype,"taskActions",[i.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=v(g.prototype,"user",[s.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v(g.prototype,"doesntHaveAssignments",[p],Object.getOwnPropertyDescriptor(g.prototype,"doesntHaveAssignments"),g.prototype),v(g.prototype,"emptyStateBody",[c.default],Object.getOwnPropertyDescriptor(g.prototype,"emptyStateBody"),g.prototype),v(g.prototype,"changeSort",[t.action],Object.getOwnPropertyDescriptor(g.prototype,"changeSort"),g.prototype),v(g.prototype,"onChangeFilter",[t.action],Object.getOwnPropertyDescriptor(g.prototype,"onChangeFilter"),g.prototype),g)})),define("discourse/plugins/discourse-assign/discourse/initializers/assign-extend-user-messages",["exports","discourse/lib/plugin-api","I18n"],(function(e,s,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default={name:"assign-extend-user-messages",initialize(e){(0,s.withPluginApi)("1.5.0",(s=>{const i=e.lookup("service:current-user")
i?.can_assign&&s.addUserMessagesNavigationDropdownRow&&s.addUserMessagesNavigationDropdownRow("userPrivateMessages.assigned",t.default.t("discourse_assign.assigned"),"user-plus")}))}}})),define("discourse/plugins/discourse-assign/discourse/initializers/assign-user-menu",["exports","@ember/template","discourse/lib/plugin-api","discourse/lib/text","I18n","discourse/plugins/discourse-assign/discourse/components/user-menu/assigns-list"],(function(e,s,t,i,n,r){"use strict"
function o(e,s,t){var i
return(s="symbol"==typeof(i=function(e,s){if("object"!=typeof e||!e)return e
var t=e[Symbol.toPrimitive]
if(void 0!==t){var i=t.call(e,s||"default")
if("object"!=typeof i)return i
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===s?String:Number)(e)}(s,"string"))?i:i+"")in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default={name:"assign-user-menu",initialize(e){(0,t.withPluginApi)("1.2.0",(t=>{if(!e.lookup("service:site-settings").assign_enabled)return
const a=t.getCurrentUser()
a?.can_assign&&(t.registerNotificationTypeRenderer&&t.registerNotificationTypeRenderer("assigned",(e=>class extends e{get linkTitle(){return this.isGroup()?n.default.t(`user.assigned_to_group.${this.postOrTopic()}`,{group_name:this.notification.data.display_username}):n.default.t(`user.assigned_to_you.${this.postOrTopic()}`)}get icon(){return this.isGroup()?"group-plus":"user-plus"}get label(){return this.isGroup()?this.notification.data.display_username:""}get description(){return(0,s.htmlSafe)((0,i.emojiUnescape)(n.default.t(`user.assignment_description.${this.postOrTopic()}`,{topic_title:this.notification.fancy_title,post_number:this.notification.post_number})))}isGroup(){return"discourse_assign.assign_group_notification"===this.notification.data.message}postOrTopic(){return 1===this.notification.post_number?"topic":"post"}})),t.registerUserMenuTab&&t.registerUserMenuTab((e=>class extends e{constructor(){super(...arguments),o(this,"id","assign-list"),o(this,"panelComponent",r.default),o(this,"icon","user-plus"),o(this,"notificationTypes",["assigned"])}get count(){return this.getUnreadCountForType("assigned")}get linkWhenActive(){return`${this.currentUser.path}/activity/assigned`}})))}))}}})),define("discourse/plugins/discourse-assign/discourse/initializers/extend-for-assigns",["exports","@ember/application","@ember/template","@ember/utils","virtual-dom","discourse/components/search-advanced-options","discourse/helpers/user-avatar","discourse/lib/plugin-api","discourse/lib/register-topic-footer-dropdown","discourse/lib/utilities","discourse/widgets/raw-html","discourse/widgets/render-glimmer","discourse-common/lib/get-url","discourse-common/lib/icon-library","discourse-common/utils/decorators","I18n","discourse/plugins/discourse-assign/discourse/components/bulk-actions/assign-user","discourse/plugins/discourse-assign/discourse/components/bulk-actions/bulk-assign-user","discourse/plugins/discourse-assign/discourse/components/modal/edit-topic-assignments","discourse/plugins/discourse-assign/discourse/components/topic-level-assign-menu","discourse/plugins/discourse-assign/discourse/models/topic","@ember/template-factory"],(function(e,s,t,i,n,r,o,a,l,u,c,d,p,g,m,f,b,h,v,y,_,w){"use strict"
function j(e,s,t,i,n){var r={}
return Object.keys(i).forEach((function(e){r[e]=i[e]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=t.slice().reverse().reduce((function(t,i){return i(e,s,t)||t}),r),n&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(n):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,s,r),r=null),r}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const P="discourse-assign",O=["topic.assigned_to_user","topic.assigned_to_group","currentUser.can_assign","topic.assigned_to_user.username"]
function k(e){const s=e.assigned_to_user?.username||e.assigned_to_group?.name
return s?f.default.t("discourse_assign.unassign.help",{username:s}):f.default.t("discourse_assign.assign.help")}const z=/^(assigned:)/gi
e.default={name:"extend-for-assign",initialize(e){if(!e.lookup("service:site-settings").assign_enabled)return
const T=e.lookup("service:current-user")
T?.can_assign&&r.default.reopen({updateSearchTermForAssignedUsername(){const e=this.filterBlocks(z),s=this.searchedTerms?.assigned
let t=this.searchTerm||"",i="assigned"
0!==s?.length?(0!==e.length?t=t.replace(e[0],`${i}:${s}`):t+=` ${i}:${s}`,this._updateSearchTerm(t)):0!==e.length&&(t=t.replace(e[0],""),this._updateSearchTerm(t))}}),(0,a.withPluginApi)("0.13.0",(e=>{(0,_.extendTopicModel)(e,P),function(e){var r,o,a,l,b
const h=e.container.lookup("service:site-settings"),v=e.getCurrentUser()
function y(e){return(0,p.default)(h.assigns_user_url_path.replace("{username}",e.username))}function _(e){return(0,p.default)(`/g/${e.name}/assigned/everyone`)}(h.assigns_public||v?.can_assign)&&(e.addNavigationBarItem({name:"unassigned",customFilter:e=>"true"===e?.custom_fields?.enable_unassigned_filter,customHref:e=>{if(e)return(0,p.default)(e.url)+"/l/latest?status=open&assigned=nobody"},forceActive:(e,s)=>{const t=s.currentRouteQueryParams
return t&&2===Object.keys(t).length&&"nobody"===t.assigned&&"open"===t.status},before:"top"}),e.getCurrentUser()?.can_assign&&(e.addPostMenuButton("assign",(s=>{if(!s.firstPost)return s.assigned_to_user||s.assigned_to_group?{action:"unassignPost",icon:"user-times",className:"unassign-post",title:"discourse_assign.unassign_post.title",position:s.assigned_to_user?.id===e.getCurrentUser().id?"first":"second-last-hidden"}:{action:"assignPost",icon:"user-plus",className:"assign-post",title:"discourse_assign.assign_post.title",position:"second-last-hidden"}})),e.attachWidgetAction("post","assignPost",(function(){(0,s.getOwner)(this).lookup("service:task-actions").showAssignModal(this.model,{isAssigned:!1,targetType:"Post"})})),e.attachWidgetAction("post","unassignPost",(function(){(0,s.getOwner)(this).lookup("service:task-actions").unassign(this.model.id,"Post").then((()=>{delete this.model.topic.indirectly_assigned_to[this.model.id]}))})))),e.addPostSmallActionClassesCallback((e=>{if(e.actionCode.includes("assigned")&&!h.assigns_public)return["private-assign"]})),e.addAdvancedSearchOptions(e.getCurrentUser()?.can_assign?{inOptionsForUsers:[{name:f.default.t("search.advanced.in.assigned"),value:"assigned"},{name:f.default.t("search.advanced.in.unassigned"),value:"unassigned"}]}:{}),e.modifyClass("model:bookmark",(r=(0,m.default)("assigned_to_user"),o=(0,m.default)("assigned_to_group"),j(a={pluginId:P,assignedToUserPath:e=>y(e),assignedToGroupPath:e=>_(e)},"assignedToUserPath",[r],Object.getOwnPropertyDescriptor(a,"assignedToUserPath"),a),j(a,"assignedToGroupPath",[o],Object.getOwnPropertyDescriptor(a,"assignedToGroupPath"),a),a)),e.modifyClass("component:topic-notifications-button",(l=(0,m.default)("topic","topic.details.{notification_level,notifications_reason_id}"),b={pluginId:P,notificationReasonText(e){return this.currentUser.never_auto_track_topics&&e.assigned_to_user&&e.assigned_to_user.username===this.currentUser.username?f.default.t("notification_reason.user"):this._super(...arguments)}},j(b,"notificationReasonText",[l],Object.getOwnPropertyDescriptor(b,"notificationReasonText"),b),b)),e.addPostSmallActionIcon("assigned","user-plus"),e.addPostSmallActionIcon("assigned_to_post","user-plus"),e.addPostSmallActionIcon("assigned_group","group-plus"),e.addPostSmallActionIcon("assigned_group_to_post","group-plus"),e.addPostSmallActionIcon("unassigned","user-times"),e.addPostSmallActionIcon("unassigned_group","group-times"),e.addPostSmallActionIcon("unassigned_from_post","user-times"),e.addPostSmallActionIcon("unassigned_group_from_post","group-times"),e.includePostAttributes("assigned_to_user","assigned_to_group"),e.addPostSmallActionIcon("reassigned","user-plus"),e.addPostSmallActionIcon("reassigned_group","group-plus"),e.addPostTransformCallback((e=>{["assigned","unassigned","reassigned","assigned_group","unassigned_group","reassigned_group","assigned_to_post","assigned_group_to_post","unassigned_from_post","unassigned_group_from_post","details_change","note_change","status_change"].includes(e.actionCode)&&(e.isSmallAction=!0,e.canEdit=!0)})),e.addDiscoveryQueryParam("assigned",{replace:!0,refreshModel:!0}),e.addTagsHtmlCallback((function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
const[t,i,n]=Object.values(e.getProperties("assigned_to_user","assigned_to_group","assignment_note","assignment_status")),r={assignee:t||i,note:n}
let o
o=e.indirectly_assigned_to?Object.entries(e.indirectly_assigned_to).map((e=>{let[s,t]=e
return t.assigned_to.assignedToPostId=s,t})):[]
const a=[].concat(r,o.map((e=>({assignee:e.assigned_to,note:e.assignment_note})))).filter((e=>{let{assignee:s}=e
return s})).flat()
if(a)return a.map((t=>{let i,{assignee:n,note:r}=t
i=n.assignedToPostId?`/p/${n.assignedToPostId}`:`/t/${e.id}`
const o=(0,g.iconHTML)(n.assign_icon),a=n.username||n.name,l=s.tagName||"a"
return`<${l} class="assigned-to discourse-tag simple" ${"a"===l?`href="${(0,p.default)(i)}" data-auto-route="true"`:""}>${o}<span title="${(0,u.escapeExpression)(r)}">${a}</span></${l}>`})).join("")})),e.createWidget("assigned-to-post",{html(e){return new d.default(this,"p.assigned-to",(0,w.createTemplateFactory)({id:"3BevrNiB",block:'[[[8,[39,0],null,[["@assignedToUser","@assignedToGroup","@href","@post"],[[30,1,["assignedToUser"]],[30,1,["assignedToGroup"]],[30,1,["href"]],[30,1,["post"]]]],null]],["@data"],false,["assigned-to-post"]]',moduleName:"/var/www/discourse/app/assets/javascripts/discourse/discourse/plugins/discourse-assign/discourse/initializers/extend-for-assigns.js",isStrictMode:!1}),{assignedToUser:e.post.assigned_to_user,assignedToGroup:e.post.assigned_to_group,href:e.href,post:e.post})}}),e.createWidget("assigned-to-first-post",{html(e){const s=e.topic,[r,o,a]=[s.assigned_to_user,s.assigned_to_group,s.indirectly_assigned_to],l=[],u=(e,s,i)=>`<span class="assigned-to--${i}">${(0,t.htmlSafe)(f.default.t("discourse_assign.assigned_topic_to",{username:e,path:s}))}</span>`
if(r&&l.push((0,n.h)("span.assignee",new c.default({html:u(r.username,y(r),"user")}))),o&&l.push((0,n.h)("span.assignee",new c.default({html:u(o.name,_(o),"group")}))),a&&Object.keys(a).map((e=>{const t=a[e].assigned_to,i=a[e].post_number
l.push((0,n.h)("span.assignee",[(0,n.h)("a",{attributes:{class:"assigned-indirectly",href:`${s.url}/${i}`}},f.default.t("discourse_assign.assign_post_to_multiple",{post_number:i,username:t.username||t.name}))]))})),!(0,i.isEmpty)(l))return(0,n.h)("p.assigned-to",[r?(0,g.iconNode)("user-plus"):(0,g.iconNode)("group-plus"),r||o?"":(0,n.h)("span.assign-text",f.default.t("discourse_assign.assigned")),l])}}),e.modifyClass("model:group",{pluginId:P,asJSON(){return Object.assign({},this._super(...arguments),{assignable_level:this.assignable_level})}}),e.modifyClass("controller:topic",{pluginId:P,subscribe(){this._super(...arguments),this.messageBus.subscribe("/staff/topic-assignment",(e=>{const s=this.model,t=s.id
if(e.topic_id===t){let t
e.post_id&&(t=s.postStream.posts.find((s=>s.id===e.post_id)))
const i=t||s
i.set("assignment_note",e.assignment_note),i.set("assignment_status",e.assignment_status),"User"===e.assigned_type&&(i.set("assigned_to_user_id","assigned"===e.type?e.assigned_to.id:null),i.set("assigned_to_user",e.assigned_to)),"Group"===e.assigned_type&&(i.set("assigned_to_group_id","assigned"===e.type?e.assigned_to.id:null),i.set("assigned_to_group",e.assigned_to)),e.post_id&&("unassigned"===e.type&&delete s.indirectly_assigned_to[e.post_number],this.appEvents.trigger("post-stream:refresh",{id:s.postStream.posts[0].id}),this.appEvents.trigger("post-stream:refresh",{id:e.post_id})),s.closed&&this.appEvents.trigger("post-stream:refresh",{id:s.postStream.posts[0].id})}this.appEvents.trigger("header:update-topic",s),this.appEvents.trigger("post-stream:refresh",{id:s.postStream.posts[0].id})}))},unsubscribe(){this._super(...arguments),this.model?.id&&this.messageBus.unsubscribe("/staff/topic-assignment")}}),e.decorateWidget("post-contents:after-cooked",(e=>{const s=e.getModel()
if(s){let t,i,n,r
if(1===e.attrs.post_number)return e.widget.attach("assigned-to-first-post",{topic:s.topic})
if(n=s.topic.indirectly_assigned_to?.[s.id]?.assigned_to,n?.username&&(t=n),n?.name&&(i=n),(t||i)&&(r=t?y(t):_(i)),r)return e.widget.attach("assigned-to-post",{assignedToUser:t,assignedToGroup:i,href:r,post:s})}})),e.replaceIcon("notification.assigned","user-plus"),e.replaceIcon("notification.discourse_assign.assign_group_notification","group-plus"),e.modifyClass("controller:preferences/notifications",{pluginId:P,actions:{save(){this.saveAttrNames.push("custom_fields"),this._super(...arguments)}}}),e.addKeyboardShortcut("g a","",{path:"/my/activity/assigned"})}(e),function(e){(0,l.registerTopicFooterDropdown)(y.default),e.registerTopicFooterButton({id:"assign",icon(){return this.topic.isAssigned()?this.site.mobileView?"user-times":null:"user-plus"},priority:250,translatedTitle(){return k(this.topic)},translatedAriaLabel(){return k(this.topic)},translatedLabel:()=>f.default.t("discourse_assign.assign.title"),async action(){if(!this.currentUser?.can_assign)return
const e=(0,s.getOwner)(this).lookup("service:task-actions"),t=(0,s.getOwner)(this).lookup("service:modal")
this.topic.isAssigned()?(this.set("topic.assigned_to_user",null),this.set("topic.assigned_to_group",null),await e.unassign(this.topic.id,"Topic"),this.appEvents.trigger("post-stream:refresh",{id:this.topic.postStream.firstPostId})):await t.show(v.default,{model:{topic:this.topic},onSuccess:()=>this.appEvents.trigger("post-stream:refresh",{id:this.topic.postStream.firstPostId})})},dropdown(){return this.site.mobileView},classNames:["assign"],dependentKeys:O,displayed(){return this.currentUser?.can_assign&&!this.topic.isAssigned()&&!this.topic.hasAssignedPosts()}}),e.registerTopicFooterButton({id:"unassign-mobile-header",translatedTitle(){return k(this.topic)},translatedAriaLabel(){return k(this.topic)},translatedLabel(){const e=this.topic.assigned_to_user,s=this.topic.assigned_to_group,i=f.default.t("discourse_assign.assigned_to_w_ellipsis")
return e?(0,t.htmlSafe)(`<span class="unassign-label"><span class="text">${i}</span><span class="username">${e.username}</span></span>${(0,o.renderAvatar)(e,{imageSize:"small",ignoreTitle:!0})}`):s?(0,t.htmlSafe)(`<span class="unassign-label">${i}</span> @${s.name}`):void 0},dropdown(){return this.currentUser?.can_assign&&this.topic.isAssigned()},classNames:["assign"],dependentKeys:O,displayed(){return this.currentUser?.can_assign&&this.site.mobileView}}),e.registerTopicFooterButton({id:"unassign-mobile",icon:()=>"user-times",translatedTitle(){return k(this.topic)},translatedAriaLabel(){return k(this.topic)},translatedLabel(){const e=f.default.t("discourse_assign.unassign.title")
return(0,t.htmlSafe)(`<span class="unassign-label"><span class="text">${e}</span></span>`)},action(){if(!this.currentUser?.can_assign)return
const e=(0,s.getOwner)(this).lookup("service:task-actions")
this.set("topic.assigned_to_user",null),this.set("topic.assigned_to_group",null),e.unassign(this.topic.id).then((()=>{this.appEvents.trigger("post-stream:refresh",{id:this.topic.postStream.firstPostId})}))},dropdown(){return this.currentUser?.can_assign&&this.topic.isAssigned()},classNames:["assign"],dependentKeys:O,displayed(){return this.currentUser?.can_assign&&this.site.mobileView&&this.topic.isAssigned()}}),e.registerTopicFooterButton({id:"reassign-self-mobile",icon:()=>"user-plus",translatedTitle:()=>f.default.t("discourse_assign.reassign.to_self_help"),translatedAriaLabel:()=>f.default.t("discourse_assign.reassign.to_self_help"),translatedLabel(){const e=f.default.t("discourse_assign.reassign.to_self")
return(0,t.htmlSafe)(`<span class="unassign-label"><span class="text">${e}</span></span>`)},async action(){if(!this.currentUser?.can_assign)return
const e=(0,s.getOwner)(this).lookup("service:task-actions")
this.set("topic.assigned_to_user",null),this.set("topic.assigned_to_group",null),await e.reassignUserToTopic(this.currentUser,this.topic),this.appEvents.trigger("post-stream:refresh",{id:this.topic.postStream.firstPostId})},dropdown(){return this.currentUser?.can_assign&&this.topic.isAssigned()},classNames:["assign"],dependentKeys:O,displayed(){return this.site.mobileView&&this.currentUser?.can_assign&&this.topic.isAssigned()&&this.topic.assigned_to_user?.username!==this.currentUser.username}}),e.registerTopicFooterButton({id:"reassign-mobile",icon:()=>"group-plus",translatedTitle:()=>f.default.t("discourse_assign.reassign.help"),translatedAriaLabel:()=>f.default.t("discourse_assign.reassign.help"),translatedLabel(){const e=f.default.t("discourse_assign.reassign.title_w_ellipsis")
return(0,t.htmlSafe)(`<span class="unassign-label"><span class="text">${e}</span></span>`)},async action(){if(!this.currentUser?.can_assign)return
const e=(0,s.getOwner)(this).lookup("service:task-actions")
await e.showAssignModal(this.topic,{targetType:"Topic",isAssigned:this.topic.isAssigned(),onSuccess:()=>this.appEvents.trigger("post-stream:refresh",{id:this.topic.postStream.firstPostId})})},dropdown(){return this.currentUser?.can_assign&&this.topic.isAssigned()},classNames:["assign"],dependentKeys:O,displayed(){return this.currentUser?.can_assign&&this.site.mobileView}})}(e),e.addSearchSuggestion("in:assigned"),e.addSearchSuggestion("in:unassigned"),e.addGroupPostSmallActionCode("assigned_group"),e.addGroupPostSmallActionCode("reassigned_group"),e.addGroupPostSmallActionCode("unassigned_group"),e.addGroupPostSmallActionCode("assigned_group_to_post"),e.addGroupPostSmallActionCode("unassigned_group_from_post"),e.addUserSearchOption("assignableGroups")
const r=T?.use_experimental_topic_bulk_actions?h.default:b.default
e.addBulkActionButton({label:"topics.bulk.assign",icon:"user-plus",class:"btn-default assign-topics",action(e){let{setComponent:s}=e
s(r)},actionType:"setComponent"}),e.addBulkActionButton({label:"topics.bulk.unassign",icon:"user-times",class:"btn-default unassign-topics",action(e){let{performAndRefresh:s}=e
s({type:"unassign"})},actionType:"performAndRefresh"})}))}}})),define("discourse/plugins/discourse-assign/discourse/models/assignment",["exports","@glimmer/tracking","@ember/object"],(function(e,s,t){"use strict"
var i,n,r,o,a
function l(e,s,t,i){t&&Object.defineProperty(e,s,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function u(e,s,t){var i
return(s="symbol"==typeof(i=function(e,s){if("object"!=typeof e||!e)return e
var t=e[Symbol.toPrimitive]
if(void 0!==t){var i=t.call(e,s||"default")
if("object"!=typeof i)return i
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===s?String:Number)(e)}(s,"string"))?i:i+"")in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}function c(e,s,t,i,n){var r={}
return Object.keys(i).forEach((function(e){r[e]=i[e]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=t.slice().reverse().reduce((function(t,i){return i(e,s,t)||t}),r),n&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(n):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,s,r),r=null),r}Object.defineProperty(e,"__esModule",{value:!0}),e.Assignment=void 0
e.Assignment=(i=class e extends t.default{constructor(){super(...arguments),l(this,"group_name",n,this),l(this,"username",r,this),l(this,"status",o,this),l(this,"note",a,this),u(this,"targetId",void 0),u(this,"targetType",void 0),u(this,"postNumber",void 0),u(this,"isEdited",!1)}static fromTopic(s){const t=new e
return t.id=0,t.username=s.assigned_to_user?.username,t.groupName=s.assigned_to_group?.name,t.status=s.assignment_status,t.note=s.assignment_note,t.targetId=s.id,t.targetType="Topic",t}static fromPost(s){const t=new e
return t.username=s.assigned_to.username,t.groupName=s.assigned_to.name,t.status=s.assignment_status,t.note=s.assignment_note,t.targetId=s.postId,t.targetType="Post",t.postNumber=s.post_number,t.id=s.post_number,t}},n=c(i.prototype,"group_name",[s.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r=c(i.prototype,"username",[s.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=c(i.prototype,"status",[s.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=c(i.prototype,"note",[s.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),i)})),define("discourse/plugins/discourse-assign/discourse/models/topic",["exports","discourse/plugins/discourse-assign/discourse/models/assignment"],(function(e,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.extendTopicModel=function(e,t){e.modifyClass("model:topic",{pluginId:t,assignees(){const e=[]
this.assigned_to_user&&e.push(this.assigned_to_user)
const s=this.assignedPosts().map((e=>e.assigned_to))
return e.push(...s),e},uniqueAssignees(){const e=new Map
return this.assignees().forEach((s=>e.set(s.username,s))),[...e.values()]},assignedPosts(){return this.indirectly_assigned_to?Object.entries(this.indirectly_assigned_to).map((e=>{let[s,t]=e
return t.postId=s,t})):[]},assignments(){return[this.topicAssignment(),...this.postAssignments()].compact()},postAssignments(){return this.indirectly_assigned_to?Object.entries(this.indirectly_assigned_to).map((e=>{let[t,i]=e
return i.postId=t,s.Assignment.fromPost(i)})):[]},topicAssignment(){return s.Assignment.fromTopic(this)},isAssigned(){return this.assigned_to_user||this.assigned_to_group},isAssignedTo(e){return this.assigned_to_user?.username===e.username},hasAssignedPosts(){return!!this.postAssignments().length}})}})),define("discourse/plugins/discourse-assign/discourse/pre-initializers/extend-category-for-assign",["exports","@ember/object","discourse/models/category"],(function(e,s,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default={name:"extend-category-for-assign",before:"inject-discourse-objects",initialize(){t.default.reopen({enable_unassigned_filter:(0,s.computed)("custom_fields.enable_unassigned_filter",{get(){return"true"===this?.custom_fields?.enable_unassigned_filter}})})}}})),define("discourse/plugins/discourse-assign/discourse/raw-templates/assign-topic-buttons",["exports","discourse-common/lib/raw-handlebars","discourse-common/lib/raw-templates"],(function(e,s,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let i=(0,s.template)({compiler:[8,">= 4.3.0"],main:function(e,s,t,i,n){var r
return null!=(r=(e.lookupProperty||function(e,s){if(Object.prototype.hasOwnProperty.call(e,s))return e[s]})(t,"get").call(null!=s?s:e.nullContext||{},"view.html",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[s],data:n,loc:{start:{line:1,column:0},end:{line:1,column:15}}}))?r:""},useData:!0});(0,t.addRawTemplate)("javascripts/assign-topic-buttons",i,{core:!0})
e.default=i})),define("discourse/plugins/discourse-assign/discourse/raw-templates/connectors/topic-list-after-columns/assign-buttons",["exports","discourse-common/lib/raw-handlebars","discourse-common/lib/raw-templates"],(function(e,s,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let i=(0,s.template)({compiler:[8,">= 4.3.0"],main:function(e,s,t,i,n){var r=e.lookupProperty||function(e,s){if(Object.prototype.hasOwnProperty.call(e,s))return e[s]}
return e.escapeExpression((r(t,"raw")||s&&r(s,"raw")||e.hooks.helperMissing).call(null!=s?s:e.nullContext||{},"assign-topic-buttons",{name:"raw",hash:{topic:"context.topic"},hashTypes:{topic:"PathExpression"},hashContexts:{topic:s},types:["StringLiteral"],contexts:[s],data:n,loc:{start:{line:1,column:0},end:{line:1,column:50}}}))},useData:!0});(0,t.addRawTemplate)("javascripts/connectors/topic-list-after-columns/assign-buttons",i,{core:!0})
e.default=i})),define("discourse/plugins/discourse-assign/discourse/raw-views/assign-topic-buttons",["exports","@ember/object","@ember/service","discourse/lib/raw-render-glimmer","discourse/plugins/discourse-assign/discourse/components/assigned-topic-list-column","@ember/template-factory","@ember/component","@ember/component/template-only"],(function(e,s,t,i,n,r,o,a){"use strict"
var l,u
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const c=["userActivity.assigned","group.assigned.show"]
e.default=(l=class extends s.default{constructor(){var e,s,t,i
super(...arguments),e=this,s="router",i=this,(t=u)&&Object.defineProperty(e,s,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}get html(){if(c.includes(this.router.currentRouteName))return(0,i.default)(this,"td.assign-topic-buttons",(0,o.setComponentTemplate)((0,r.createTemplateFactory)({id:"DgO3j+2j",block:'[[[8,[32,0],null,[["@topic"],[[30,1,["topic"]]]],null]],["@data"],false,[]]',moduleName:"/var/www/discourse/app/assets/javascripts/discourse/discourse/plugins/discourse-assign/discourse/raw-views/assign-topic-buttons.js",scope:()=>[n.default],isStrictMode:!0}),(0,a.default)()),{topic:this.topic})}},d=l.prototype,p="router",g=[t.inject],m={configurable:!0,enumerable:!0,writable:!0,initializer:null},b={},Object.keys(m).forEach((function(e){b[e]=m[e]})),b.enumerable=!!b.enumerable,b.configurable=!!b.configurable,("value"in b||b.initializer)&&(b.writable=!0),b=g.slice().reverse().reduce((function(e,s){return s(d,p,e)||e}),b),f&&void 0!==b.initializer&&(b.value=b.initializer?b.initializer.call(f):void 0,b.initializer=void 0),void 0===b.initializer&&(Object.defineProperty(d,p,b),b=null),u=b,l)
var d,p,g,m,f,b})),define("discourse/plugins/discourse-assign/discourse/routes/group-assigned-show",["exports","discourse/lib/cached-topic-list","discourse/routes/discourse"],(function(e,s,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{model(e){let t
return t=["everyone",this.modelFor("group").name].includes(e.filter)?`topics/group-topics-assigned/${this.modelFor("group").name}`:`topics/messages-assigned/${e.filter}`,(0,s.findOrResetCachedTopicList)(this.session,t)||this.store.findFiltered("topicList",{filter:t,params:{order:e.order,ascending:e.ascending,search:e.search,direct:"everyone"!==e.filter}})}setupController(e,s){e.setProperties({model:s,search:this.currentModel.params.search})}}e.default=i})),define("discourse/plugins/discourse-assign/discourse/routes/group-assigned",["exports","@ember/service","discourse/lib/ajax","discourse/routes/discourse"],(function(e,s,t,i){"use strict"
var n,r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(n=class extends i.default{constructor(){var e,s,t,i
super(...arguments),e=this,s="router",i=this,(t=r)&&Object.defineProperty(e,s,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}model(){return(0,t.ajax)(`/assign/members/${this.modelFor("group").name}`)}setupController(e,s){e.setProperties({model:s,members:[],group:this.modelFor("group")}),e.group.setProperties({assignment_count:s.assignment_count,group_assignment_count:s.group_assignment_count}),e.findMembers(!0)}redirect(e,s){s.to.params.hasOwnProperty("filter")||this.router.transitionTo("group.assigned.show","everyone")}},o=n.prototype,a="router",l=[s.inject],u={configurable:!0,enumerable:!0,writable:!0,initializer:null},d={},Object.keys(u).forEach((function(e){d[e]=u[e]})),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=l.slice().reverse().reduce((function(e,s){return s(o,a,e)||e}),d),c&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(c):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(o,a,d),d=null),r=d,n)
var o,a,l,u,c,d})),define("discourse/plugins/discourse-assign/discourse/routes/user-activity-assigned",["exports","@ember/service","discourse/lib/cookie","discourse/routes/user-topic-list","I18n"],(function(e,s,t,i,n){"use strict"
var r,o
function a(e,s,t){var i
return(s="symbol"==typeof(i=function(e,s){if("object"!=typeof e||!e)return e
var t=e[Symbol.toPrimitive]
if(void 0!==t){var i=t.call(e,s||"default")
if("object"!=typeof i)return i
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===s?String:Number)(e)}(s,"string"))?i:i+"")in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(r=class extends i.default{constructor(){var e,s,t,i
super(...arguments),e=this,s="router",i=this,(t=o)&&Object.defineProperty(e,s,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0}),a(this,"templateName","user-activity-assigned"),a(this,"controllerName","user-activity-assigned"),a(this,"userActionType",16),a(this,"noContentHelpKey","discourse_assigns.no_assigns")}beforeModel(){this.currentUser||((0,t.default)("destination_url",window.location.href),this.router.transitionTo("login"))}model(e){return this.store.findFiltered("topicList",{filter:`topics/messages-assigned/${this.modelFor("user").username_lower}`,params:{exclude_category_ids:[-1],order:e.order,ascending:e.ascending,search:e.search}})}titleToken(){return n.default.t("discourse_assign.assigned")}},l=r.prototype,u="router",c=[s.inject],d={configurable:!0,enumerable:!0,writable:!0,initializer:null},g={},Object.keys(d).forEach((function(e){g[e]=d[e]})),g.enumerable=!!g.enumerable,g.configurable=!!g.configurable,("value"in g||g.initializer)&&(g.writable=!0),g=c.slice().reverse().reduce((function(e,s){return s(l,u,e)||e}),g),p&&void 0!==g.initializer&&(g.value=g.initializer?g.initializer.call(p):void 0,g.initializer=void 0),void 0===g.initializer&&(Object.defineProperty(l,u,g),g=null),o=g,r)
var l,u,c,d,p,g})),define("discourse/plugins/discourse-assign/discourse/routes/user-private-messages-assigned-index",["exports","discourse/routes/build-private-messages-route"],(function(e,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,s.default)("assigned","private-messages-assigned","assigned")})),define("discourse/plugins/discourse-assign/discourse/services/task-actions",["exports","@glimmer/tracking","@ember/service","@ember/utils","discourse/lib/ajax","discourse/lib/ajax-error","discourse/plugins/discourse-assign/discourse/components/modal/assign-user"],(function(e,s,t,i,n,r,o){"use strict"
var a,l,u,c,d,p,g
function m(e,s,t,i){t&&Object.defineProperty(e,s,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function f(e,s){if(s.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function b(e,s,t){return function(e,s,t){if(s.set)s.set.call(e,t)
else{if(!s.writable)throw new TypeError("attempted to set read only private field")
s.value=t}}(e,h(s,e),t),t}function h(e,s){return e.get(v(e,s))}function v(e,s,t){if("function"==typeof e?e===s:e.has(s))return arguments.length<3?s:t
throw new TypeError("Private element is not present on this object")}function y(e,s,t,i,n){var r={}
return Object.keys(i).forEach((function(e){r[e]=i[e]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=t.slice().reverse().reduce((function(t,i){return i(e,s,t)||t}),r),n&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(n):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,s,r),r=null),r}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(p=new WeakMap,g=new WeakSet,a=class extends t.default{constructor(){var e,s
super(...arguments),f(e=this,s=g),s.add(e),m(this,"modal",l,this),m(this,"allowedGroups",u,this),m(this,"allowedGroupsForAssignment",c,this),function(e,s,t){f(e,s),s.set(e,t)}(this,p,{writable:!0,value:void 0}),m(this,"_suggestions",d,this)}get suggestions(){return this._suggestions?this._suggestions:(function(e,s){return s.get?s.get.call(e):s.value}(e=this,h(p,e))||b(this,p,function(e,s,t){return v(s,e),t}(this,g,_).call(this)),null)
var e}unassign(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Topic"
return(0,n.ajax)("/assign/unassign",{type:"PUT",data:{target_id:e,target_type:s}})}async unassignPost(e){await this.unassign(e.id,"Post"),delete e.topic.indirectly_assigned_to[e.id]}showAssignModal(e,s){let{isAssigned:t=!1,targetType:i="Topic",onSuccess:n}=s
return this.modal.show(o.default,{model:{reassign:t,username:e.assigned_to_user?.username,group_name:e.assigned_to_group?.name,status:e.assignment_status,target:e,targetType:i,onSuccess:n}})}showAssignPostModal(e){return this.showAssignModal(e,{targetType:"Post"})}reassignUserToTopic(e,s){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Topic"
return(0,n.ajax)("/assign/assign",{type:"PUT",data:{username:e.username,target_id:s.id,target_type:t,status:s.assignment_status}})}async assign(e){(0,i.isEmpty)(e.username)&&e.target.set("assigned_to_user",null),(0,i.isEmpty)(e.group_name)&&e.target.set("assigned_to_group",null)
let s="/assign/assign";(0,i.isEmpty)(e.username)&&(0,i.isEmpty)(e.group_name)&&(s="/assign/unassign")
try{await(0,n.ajax)(s,{type:"PUT",data:{username:e.username,group_name:e.group_name,target_id:e.target.id,target_type:e.targetType,note:e.note,status:e.status}}),e.onSuccess?.()}catch(t){(0,r.popupAjaxError)(t)}}async putAssignment(e){await(0,n.ajax)("/assign/assign",{type:"PUT",data:{username:e.username,group_name:e.group_name,target_id:e.targetId,target_type:e.targetType,note:e.note,status:e.status}})}},l=y(a.prototype,"modal",[t.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=y(a.prototype,"allowedGroups",[s.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=y(a.prototype,"allowedGroupsForAssignment",[s.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=y(a.prototype,"_suggestions",[s.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a)
async function _(){const e=await(0,n.ajax)("/assign/suggestions")
this.isDestroying||this.isDestroyed||(this._suggestions=e.suggestions,this.allowedGroups=e.assign_allowed_on_groups,this.allowedGroupsForAssignment=e.assign_allowed_for_groups)}})),define("discourse/plugins/discourse-assign/discourse/templates/connectors/above-review-filters/assigned-to-filter",["exports","@ember/template-factory"],(function(e,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,s.createTemplateFactory)({id:"Y/cVn80D",block:'[[[10,0],[14,0,"reviewable-filter discourse-assign-assign-to-filter"],[12],[1,"\\n  "],[10,"label"],[14,0,"filter-label"],[12],[1,[28,[35,0],["discourse_assign.assigned_to"],null]],[13],[1,"\\n  "],[8,[39,1],[[24,"autocomplete","off"]],[["@value","@onChange","@options"],[[30,0,["additionalFilters","assigned_to"]],[30,0,["updateAssignedTo"]],[28,[37,2],null,[["maximum","fullWidthWrap","includeGroups","groupMembersOf"],[1,true,false,[30,0,["allowedGroups"]]]]]]],null],[1,"\\n"],[13]],[],false,["i18n","email-group-user-chooser","hash"]]',moduleName:"discourse/plugins/discourse-assign/discourse/templates/connectors/above-review-filters/assigned-to-filter.hbs",isStrictMode:!1})})),define("discourse/plugins/discourse-assign/discourse/templates/connectors/advanced-search-options-below/assigned-advanced-search",["exports","@ember/template-factory"],(function(e,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,s.createTemplateFactory)({id:"gTgoiY9H",block:'[[[10,0],[14,0,"control-group"],[12],[1,"\\n  "],[10,"label"],[14,0,"control-label"],[14,"for","search-assigned-to"],[12],[1,[28,[35,0],["search.advanced.assigned.label"],null]],[13],[1,"\\n  "],[10,0],[14,0,"controls"],[12],[1,"\\n    "],[8,[39,1],null,[["@value","@onChange","@options"],[[30,0,["searchedTerms","assigned"]],[28,[37,2],[[30,0],"onChangeAssigned"],null],[28,[37,3],null,[["maximum","excludeCurrentUser","includeGroups","customSearchOptions"],[1,false,true,[28,[37,3],null,[["assignableGroups"],[true]]]]]]]],null],[1,"\\n  "],[13],[1,"\\n"],[13]],[],false,["i18n","email-group-user-chooser","action","hash"]]',moduleName:"discourse/plugins/discourse-assign/discourse/templates/connectors/advanced-search-options-below/assigned-advanced-search.hbs",isStrictMode:!1})})),define("discourse/plugins/discourse-assign/discourse/templates/connectors/category-custom-settings/assign-settings",["exports","@ember/template-factory"],(function(e,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,s.createTemplateFactory)({id:"LTKQgkno",block:'[[[10,"h3"],[12],[1,[28,[35,0],["discourse_assign.assign.title"],null]],[13],[1,"\\n"],[10,"section"],[14,0,"field"],[12],[1,"\\n  "],[10,0],[14,0,"enable-accepted-answer"],[12],[1,"\\n    "],[10,"label"],[14,0,"checkbox-label"],[12],[1,"\\n      "],[8,[39,1],[[4,[38,3],["change",[28,[37,4],[[30,0],"onChangeSetting"],[["value"],["target.checked"]]]],null]],[["@type","@checked"],["checkbox",[28,[37,2],[[30,0,["category","enable_unassigned_filter"]]],null]]],null],[1,"\\n      "],[1,[28,[35,0],["discourse_assign.add_unassigned_filter"],null]],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n"],[13]],[],false,["i18n","input","readonly","on","action"]]',moduleName:"discourse/plugins/discourse-assign/discourse/templates/connectors/category-custom-settings/assign-settings.hbs",isStrictMode:!1})})),define("discourse/plugins/discourse-assign/discourse/templates/connectors/group-reports-nav-item/assigned-topic-list",["exports","@ember/template-factory"],(function(e,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,s.createTemplateFactory)({id:"K6gPJHoW",block:'[[[8,[39,0],null,[["@group"],[[30,0,["group"]]]],null]],[],false,["group-assigned-menu-item"]]',moduleName:"discourse/plugins/discourse-assign/discourse/templates/connectors/group-reports-nav-item/assigned-topic-list.hbs",isStrictMode:!1})})),define("discourse/plugins/discourse-assign/discourse/templates/connectors/groups-interaction-custom-options/assignable-interaction-fields",["exports","@ember/template-factory"],(function(e,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,s.createTemplateFactory)({id:"Vkxx4Ccs",block:'[[[10,0],[14,0,"control-group"],[12],[1,"\\n  "],[10,"label"],[14,0,"control-label"],[12],[1,"\\n    "],[1,[28,[35,0],["discourse_assign.admin.groups.manage.interaction.assign"],null]],[1,"\\n  "],[13],[1,"\\n\\n  "],[10,"label"],[14,"for","visibility"],[12],[1,"\\n    "],[1,[28,[35,0],["discourse_assign.admin.groups.manage.interaction.assignable_levels.title"],null]],[1,"\\n  "],[13],[1,"\\n\\n  "],[8,[39,1],[[24,0,"groups-form-assignable-level"]],[["@name","@valueProperty","@value","@content","@onChange"],["alias","value",[30,0,["assignableLevel"]],[30,0,["assignableLevelOptions"]],[30,0,["onChangeAssignableLevel"]]]],null],[1,"\\n"],[13]],[],false,["i18n","combo-box"]]',moduleName:"discourse/plugins/discourse-assign/discourse/templates/connectors/groups-interaction-custom-options/assignable-interaction-fields.hbs",isStrictMode:!1})})),define("discourse/plugins/discourse-assign/discourse/templates/connectors/user-activity-bottom/assigned-list",["exports","@ember/template-factory"],(function(e,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,s.createTemplateFactory)({id:"At//uoF1",block:'[[[41,[30,0,["currentUser","can_assign"]],[[[1,"  "],[8,[39,1],null,[["@route"],["userActivity.assigned"]],[["default"],[[[[1,"\\n    "],[1,[28,[35,2],["user-plus"],null]],[1,"\\n    "],[1,[28,[35,3],["discourse_assign.assigned"],null]],[1,"\\n  "]],[]]]]],[1,"\\n"]],[]],null]],[],false,["if","link-to","d-icon","i18n"]]',moduleName:"discourse/plugins/discourse-assign/discourse/templates/connectors/user-activity-bottom/assigned-list.hbs",isStrictMode:!1})})),define("discourse/plugins/discourse-assign/discourse/templates/connectors/user-messages-nav/assigned-messages",["exports","@ember/template-factory"],(function(e,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,s.createTemplateFactory)({id:"bZDswpMC",block:'[[[8,[39,0],null,[["@route","@model"],["userPrivateMessages.assigned",[30,0,["model"]]]],[["default"],[[[[1,"\\n  "],[1,[28,[35,1],["user-plus"],[["class"],["glyph"]]]],[1,"\\n  "],[1,[28,[35,2],["discourse_assign.assigned"],null]],[1,"\\n"]],[]]]]]],[],false,["link-to","d-icon","i18n"]]',moduleName:"discourse/plugins/discourse-assign/discourse/templates/connectors/user-messages-nav/assigned-messages.hbs",isStrictMode:!1})})),define("discourse/plugins/discourse-assign/discourse/templates/connectors/user-preferences-notifications/remind-assigns-frequency",["exports","@ember/template-factory"],(function(e,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,s.createTemplateFactory)({id:"15tbayEQ",block:'[[[8,[39,0],null,[["@user"],[[30,0,["model"]]]],null]],[],false,["remind-assigns-frequency"]]',moduleName:"discourse/plugins/discourse-assign/discourse/templates/connectors/user-preferences-notifications/remind-assigns-frequency.hbs",isStrictMode:!1})})),define("discourse/plugins/discourse-assign/discourse/templates/group-assigned-show",["exports","@ember/template-factory"],(function(e,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,s.createTemplateFactory)({id:"n0K6R1XP",block:'[[[10,0],[14,0,"topic-search-div"],[12],[1,"\\n  "],[10,0],[14,0,"inline-form full-width"],[12],[1,"\\n    "],[8,[39,0],[[16,"placeholder",[28,[37,1],["discourse_assign.topic_search_placeholder"],null]],[24,"autocomplete","off"],[24,0,"no-blur"],[4,[38,3],["input",[28,[37,4],[[30,0],"onChangeFilter"],[["value"],["target.value"]]]],null]],[["@value","@type"],[[28,[37,2],[[30,0,["search"]]],null],"search"]],null],[1,"\\n  "],[13],[1,"\\n"],[13],[1,"\\n\\n"],[8,[39,5],[[24,0,"paginated-topics-list"]],[["@selector","@action"],[".paginated-topics-list .topic-list tr",[28,[37,4],[[30,0],"loadMore"],null]]],[["default"],[[[[1,"\\n  "],[8,[39,6],null,[["@topicList","@hideCategory","@showPosters","@bulkSelectEnabled","@canBulkSelect","@selected","@hasIncoming","@incomingCount","@showInserted","@tagsForUser","@changeSort","@toggleBulkSelect","@bulkSelectAction","@unassign","@reassign","@onScroll","@scrollOnLoad"],[[30,0,["model"]],[30,0,["hideCategory"]],[30,0,["showPosters"]],[30,0,["bulkSelectEnabled"]],[30,0,["canBulkSelect"]],[30,0,["selected"]],[30,0,["hasIncoming"]],[30,0,["incomingCount"]],[28,[37,4],[[30,0],"showInserted"],null],[30,0,["tagsForUser"]],[28,[37,4],[[30,0],"changeSort"],null],[28,[37,4],[[30,0],"toggleBulkSelect"],null],[28,[37,4],[[30,0],"refresh"],null],[28,[37,4],[[30,0],"unassign"],null],[28,[37,4],[[30,0],"reassign"],null],[30,0,["saveScrollPosition"]],true]],null],[1,"\\n\\n  "],[8,[39,7],null,[["@condition"],[[30,0,["model","loadingMore"]]]],null],[1,"\\n"]],[]]]]]],[],false,["input","i18n","readonly","on","action","load-more","basic-topic-list","conditional-loading-spinner"]]',moduleName:"discourse/plugins/discourse-assign/discourse/templates/group-assigned-show.hbs",isStrictMode:!1})})),define("discourse/plugins/discourse-assign/discourse/templates/group/assigned",["exports","@ember/template-factory"],(function(e,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,s.createTemplateFactory)({id:"/YkeCVLZ",block:'[[[10,"section"],[14,0,"user-secondary-navigation group-assignments"],[12],[1,"\\n  "],[8,[39,0],[[24,0,"activity-nav"]],[["@desktopClass"],["action-list activity-list nav-stacked"]],[["default"],[[[[1,"\\n"],[41,[30,0,["isDesktop"]],[[[1,"      "],[10,0],[14,0,"search-div"],[12],[1,"\\n        "],[8,[39,2],[[16,"placeholder",[28,[37,3],["discourse_assign.sidebar_name_filter_placeholder"],null]],[24,0,"search"],[4,[38,5],["input",[28,[37,6],[[30,0],[30,0,["onChangeFilterName"]]],[["value"],["target.value"]]]],null]],[["@type","@value"],["text",[28,[37,4],[[30,0,["filterName"]]],null]]],null],[1,"\\n      "],[13],[1,"\\n"]],[]],null],[1,"\\n    "],[8,[39,7],null,[["@selector","@action"],[".activity-nav li",[28,[37,6],[[30,0],"loadMore"],null]]],[["default"],[[[[1,"\\n      "],[8,[39,8],null,[["@showAvatar","@filter","@routeType","@assignmentCount","@search","@ascending","@order"],[false,"everyone",[30,0,["route_type"]],[30,0,["group","assignment_count"]],[30,0,["search"]],[30,0,["ascending"]],[30,0,["order"]]]],null],[1,"\\n\\n      "],[8,[39,8],null,[["@showAvatar","@groupName","@filter","@routeType","@assignmentCount","@search","@ascending","@order"],[false,[30,0,["group","name"]],[30,0,["group","name"]],[30,0,["route_type"]],[30,0,["group","group_assignment_count"]],[30,0,["search"]],[30,0,["ascending"]],[30,0,["order"]]]],null],[1,"\\n\\n"],[42,[28,[37,10],[[28,[37,10],[[30,0,["members"]]],null]],null],null,[[[1,"        "],[8,[39,8],null,[["@showAvatar","@filter","@routeType","@search","@ascending","@order"],[true,[30,1],[30,0,["route_type"]],[30,0,["search"]],[30,0,["ascending"]],[30,0,["order"]]]],null],[1,"\\n"]],[1]],null],[1,"\\n      "],[8,[39,11],null,[["@condition"],[[30,0,["loading"]]]],null],[1,"\\n    "]],[]]]]],[1,"\\n  "]],[]]]]],[1,"\\n"],[13],[1,"\\n\\n"],[10,"section"],[14,0,"user-content"],[12],[1,"\\n  "],[46,[28,[37,13],null,null],null,null,null],[1,"\\n"],[13]],["member"],false,["mobile-nav","if","input","i18n","readonly","on","action","load-more","group-assigned-filter","each","-track-array","conditional-loading-spinner","component","-outlet"]]',moduleName:"discourse/plugins/discourse-assign/discourse/templates/group/assigned.hbs",isStrictMode:!1})})),define("discourse/plugins/discourse-assign/discourse/templates/mobile/components/assigned-topic-list-item",["exports","ember-this-fallback/deprecations-helper","@ember/template-factory"],(function(e,s,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,t.createTemplateFactory)({id:"Tt+EH3Vs",block:'[[[10,"td"],[14,0,"topic-list-data"],[12],[1,"\\n  "],[10,0],[14,0,"main-link"],[12],[1,"\\n    "],[8,[39,0],null,[["@topic"],[[30,0,["topic"]]]],null],[41,[30,0,["isPrivateMessage"]],[[[1,[28,[35,2],["envelope"],[["class"],["private-message-icon"]]]]],[]],null],[1,[28,[35,3],[[30,0,["topic"]]],null]],[1,"\\n"],[41,[30,0,["topic","unseen"]],[[[1,"      "],[10,1],[14,0,"badge-notification new-topic"],[12],[13],[1,"\\n"]],[]],null],[41,[30,0,["topic","hasExcerpt"]],[[[1,"      "],[10,0],[14,0,"topic-excerpt"],[12],[1,"\\n        "],[1,[28,[35,4],[[30,0,["topic","excerpt"]]],null]],[1,"\\n"],[41,[30,0,["topic","excerptTruncated"]],[[[1,"          "],[41,[51,[30,0,["topic","canClearPin"]]],[[[10,3],[15,6,[30,0,["topic","url"]]],[12],[1,[28,[35,6],["read_more"],null]],[13]],[]],null],[1,"\\n"]],[]],null],[41,[30,0,["topic","canClearPin"]],[[[1,"          "],[11,3],[24,6,""],[16,"title",[28,[37,6],["topic.clear_pin.help"],null]],[4,[38,7],[[30,0],"clearPin",[30,0,["topic"]]],null],[12],[1,[28,[35,6],["topic.clear_pin.title"],null]],[13],[1,"\\n"]],[]],null],[1,"      "],[13],[1,"\\n"]],[]],null],[1,"  "],[13],[1,"\\n  "],[10,0],[14,0,"pull-right topic-list-num"],[12],[1,"\\n"],[41,[30,0,["topic","assigned_to_user"]],[[[1,"      "],[8,[39,8],null,[["@topic","@assignee","@unassign","@reassign"],[[30,0,["topic"]],[30,0,["topic","assigned_to_user","username"]],[30,0,["unassign"]],[30,0,["reassign"]]]],null],[1,"\\n"]],[]],[[[41,[30,0,["topic","assigned_to_group"]],[[[1,"      "],[8,[39,8],null,[["@topic","@assignee","@group","@unassign","@reassign"],[[30,0,["topic"]],[30,0,["topic","assigned_to_group","name"]],true,[30,0,["unassign"]],[30,0,["reassign"]]]],null],[1,"\\n"]],[]],[[[1,"      "],[8,[39,8],null,[["@topic","@unassign"],[[30,0,["topic"]],[30,0,["unassign"]]]],null],[1,"\\n    "]],[]]]],[]]],[1,"  "],[13],[1,"\\n  "],[10,0],[14,0,"clearfix"],[12],[13],[1,"\\n  "],[10,0],[14,0,"topic-item-stats clearfix"],[12],[1,"\\n    "],[1,[28,[35,9],[[30,0,["topic"]]],[["mode","tagsForUser"],["list",[30,0,["tagsForUser"]]]]]],[1,"\\n    "],[10,0],[14,0,"pull-right topic-list-num"],[12],[1,"\\n      "],[1,[28,[35,10],["list/activity-column"],[["topic","tagName","class"],[[30,0,["topic"]],"div","num activity last"]]]],[1,"\\n      "],[10,3],[15,6,[30,0,["topic","lastPostUrl"]]],[15,"title",[29,[[28,[37,6],["last_post"],null],": ",[28,[37,4],[[30,0,["raw-date"]],[30,0,["topic","bumped_at"]]],null]]]],[12],[1,[30,0,["topic","last_poster_username"]]],[13],[1,"\\n    "],[13],[1,"\\n"],[41,[51,[30,0,["hideCategory"]]],[[[1,"      "],[10,0],[14,0,"category"],[12],[1,"\\n        "],[1,[28,[35,11],[[30,0,["topic","category"]]],null]],[1,"\\n      "],[13],[1,"\\n"]],[]],null],[1,"    "],[10,0],[14,0,"clearfix"],[12],[13],[1,"\\n  "],[13],[1,"\\n"],[13],[1,[28,[32,0],["[[\\"The `raw-date` property path was used in the `discourse/plugins/discourse-assign/discourse/templates/mobile/components/assigned-topic-list-item.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.raw-date}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}]]"],null]]],[],false,["topic-status","if","d-icon","topic-link","html-safe","unless","i18n","action","assign-actions-dropdown","discourse-tags","raw","category-link"]]',moduleName:"discourse/plugins/discourse-assign/discourse/templates/mobile/components/assigned-topic-list-item.hbs",scope:()=>[s.default],isStrictMode:!1})})),define("discourse/plugins/discourse-assign/discourse/templates/mobile/components/basic-assigned-topic-list",["exports","@ember/template-factory"],(function(e,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,s.createTemplateFactory)({id:"Kq2zL5bM",block:'[[[8,[39,0],null,[["@condition"],[[30,0,["loading"]]]],[["default"],[[[[1,"\\n"],[41,[30,0,["hasIncoming"]],[[[1,"    "],[10,0],[14,0,"show-mores"],[12],[1,"\\n      "],[11,3],[24,6,""],[24,0,"alert alert-info clickable"],[4,[38,2],["click",[30,0,["showInserted"]]],null],[12],[1,"\\n        "],[8,[39,3],null,[["@key","@suffix","@count"],["topic_count_","latest",[30,0,["incomingCount"]]]],null],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["topics"]],[[[1,"    "],[10,"table"],[14,0,"topic-list assigned-topic-list"],[12],[1,"\\n      "],[10,"tbody"],[14,0,"topic-list-body assigned-topic-list-body"],[12],[1,"\\n"],[42,[28,[37,5],[[28,[37,5],[[30,0,["topics"]]],null]],null],null,[[[1,"          "],[8,[39,6],null,[["@topic","@expandGloballyPinned","@expandAllPinned","@lastVisitedTopic","@selected","@tagsForUser","@unassign","@reassign"],[[30,1],[30,0,["expandGloballyPinned"]],[30,0,["expandAllPinned"]],[30,0,["lastVisitedTopic"]],[30,0,["selected"]],[30,0,["tagsForUser"]],[30,0,["unassign"]],[30,0,["reassign"]]]],null],[1,"\\n"]],[1]],null],[1,"      "],[13],[1,"\\n    "],[13],[1,"\\n"]],[]],[[[1,"    "],[10,0],[14,0,"alert alert-info"],[12],[1,"\\n      "],[1,[28,[35,7],["choose_topic.none_found"],null]],[1,"\\n    "],[13],[1,"\\n"]],[]]]],[]]]]]],["topic"],false,["conditional-loading-spinner","if","on","count-i18n","each","-track-array","assigned-topic-list-item","i18n"]]',moduleName:"discourse/plugins/discourse-assign/discourse/templates/mobile/components/basic-assigned-topic-list.hbs",isStrictMode:!1})}))
define("discourse/plugins/discourse-assign/discourse/templates/modal/bulk-assign",["exports","@ember/template-factory"],(function(e,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,s.createTemplateFactory)({id:"nB7eSP6G",block:'[[[10,0],[12],[1,"\\n  "],[8,[39,0],null,[["@model","@onSubmit","@formApi"],[[30,0,["model"]],[30,0,["assign"]],[30,0,["formApi"]]]],null],[1,"\\n"],[13],[1,"\\n\\n"],[10,0],[12],[1,"\\n  "],[8,[39,1],[[24,0,"btn-primary"]],[["@action","@label"],[[30,0,["formApi","submit"]],[52,[30,0,["model","reassign"]],"discourse_assign.reassign.title","discourse_assign.assign_modal.assign"]]],null],[1,"\\n"],[13]],[],false,["assign-user-form","d-button","if"]]',moduleName:"discourse/plugins/discourse-assign/discourse/templates/modal/bulk-assign.hbs",isStrictMode:!1})})),define("discourse/plugins/discourse-assign/discourse/templates/user-activity-assigned",["exports","@ember/template-factory"],(function(e,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,s.createTemplateFactory)({id:"LEmOIykp",block:'[[[41,[30,0,["doesntHaveAssignments"]],[[[1,"  "],[8,[39,1],null,[["@title","@body"],[[28,[37,2],["user.no_assignments_title"],null],[30,0,["emptyStateBody"]]]],null],[1,"\\n"]],[]],[[[1,"  "],[10,0],[14,0,"topic-search-div"],[12],[1,"\\n    "],[10,0],[14,0,"inline-form full-width"],[12],[1,"\\n      "],[8,[39,3],[[16,"placeholder",[28,[37,2],["discourse_assign.topic_search_placeholder"],null]],[24,"autocomplete","off"],[24,0,"no-blur"],[4,[38,5],["input",[28,[37,6],[[30,0],"onChangeFilter"],[["value"],["target.value"]]]],null]],[["@value","@type"],[[28,[37,4],[[30,0,["search"]]],null],"search"]],null],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n\\n  "],[8,[39,7],[[24,0,"paginated-topics-list"]],[["@selector","@action"],[".paginated-topics-list .topic-list tr",[28,[37,6],[[30,0],"loadMore"],null]]],[["default"],[[[[1,"\\n    "],[8,[39,8],null,[["@topicList","@hideCategory","@showPosters","@bulkSelectEnabled","@selected","@hasIncoming","@incomingCount","@showInserted","@tagsForUser","@changeSort","@unassign","@reassign","@onScroll","@scrollOnLoad"],[[30,0,["model"]],[30,0,["hideCategory"]],true,[30,0,["bulkSelectEnabled"]],[30,0,["selected"]],[30,0,["hasIncoming"]],[30,0,["incomingCount"]],[30,0,["showInserted"]],[30,0,["tagsForUser"]],[30,0,["changeSort"]],[30,0,["unassign"]],[30,0,["reassign"]],[30,0,["saveScrollPosition"]],true]],null],[1,"\\n\\n    "],[8,[39,9],null,[["@condition"],[[30,0,["model","loadingMore"]]]],null],[1,"\\n  "]],[]]]]],[1,"\\n"]],[]]]],[],false,["if","empty-state","i18n","input","readonly","on","action","load-more","basic-topic-list","conditional-loading-spinner"]]',moduleName:"discourse/plugins/discourse-assign/discourse/templates/user-activity-assigned.hbs",isStrictMode:!1})})),define("discourse/plugins/discourse-assign/discourse/templates/user-private-messages-assigned",["exports","@ember/template-factory"],(function(e,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,s.createTemplateFactory)({id:"lvjEKr9e",block:'[[[8,[39,0],null,null,[["default"],[[[[1,"\\n  "],[10,"li"],[14,0,"messages-assigned-latest"],[12],[1,"\\n    "],[8,[39,1],null,[["@route"],["userPrivateMessages.assigned.index"]],[["default"],[[[[1,"\\n      "],[1,[28,[35,2],["envelope"],null]],[1,"\\n      "],[10,1],[12],[1,[28,[35,3],["categories.latest"],null]],[13],[1,"\\n    "]],[]]]]],[1,"\\n  "],[13],[1,"\\n"]],[]]]]],[1,"\\n\\n"],[46,[28,[37,5],null,null],null,null,null]],[],false,["user-nav/messages-secondary-nav","link-to","d-icon","i18n","component","-outlet"]]',moduleName:"discourse/plugins/discourse-assign/discourse/templates/user-private-messages-assigned.hbs",isStrictMode:!1})}))

//# sourceMappingURL=discourse-assign-54c7f4cbc3fc311f8b41e641bae939a1578e226c3030279aba6d26a38e1dca57.map
//!

;
